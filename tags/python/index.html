<!DOCTYPE html>
<html lang="zh" itemscope
  itemtype="http://schema.org/Blog">

<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" /><title>Tags | Python - Obelieveçš„åšå®¢</title>
  <meta property="og:title" content="Tags | Python" />
  <meta itemprop="headline" content="Tags | Python" />
  <meta property="og:description" content="" />
  <meta name="description" content="" />
  <meta property="og:url" content="https://obelieve.github.io/tags/python/" /><meta name="og:type" content="summary" />
  <meta name="keywords" content="æ³¨æ„åŠ›, è¯»ä¹¦, å·¥å…·åˆ†äº«, çº¯æ–‡æœ¬, è‹±è¯­å­¦ä¹ " />
  <meta name="author" content="Obelieve" />
  <meta itemprop="copyrightYear" content=" 2026" />
  <link rel="icon" href="https://obelieve.github.io/site/images/favicon-32x32.png?h=68480d370330a1370abf" type="image/x-icon">
  <link rel="apple-touch-icon" sizes="57x57" href="https://obelieve.github.io/site/images/apple-icon-57x57.png?h=920192bead2a51cc200b">
  <link rel="apple-touch-icon" sizes="60x60" href="https://obelieve.github.io/site/images/apple-icon-60x60.png?h=a7a48024c2427638d967">
  <link rel="apple-touch-icon" sizes="72x72" href="https://obelieve.github.io/site/images/apple-icon-72x72.png?h=bf72d3c24257c21e2c32">
  <link rel="apple-touch-icon" sizes="76x76" href="https://obelieve.github.io/site/images/apple-icon-76x76.png?h=cc4dba10aa538acb3c49">
  <link rel="apple-touch-icon" sizes="114x114" href="https://obelieve.github.io/site/images/apple-icon-114x114.png?h=1aefbd93c1c89c4cbb8a">
  <link rel="apple-touch-icon" sizes="120x120" href="https://obelieve.github.io/site/images/apple-icon-120x120.png?h=409d89ac71c055f60c18">
  <link rel="apple-touch-icon" sizes="144x144" href="https://obelieve.github.io/site/images/apple-icon-144x144.png?h=5deaaef8a0670003fd10">
  <link rel="apple-touch-icon" sizes="152x152" href="https://obelieve.github.io/site/images/apple-icon-152x152.png?h=71161064c00cec1a4f44">
  <link rel="apple-touch-icon" sizes="180x180" href="https://obelieve.github.io/site/images/apple-icon-180x180.png?h=098b2b0d572b07220509">
  <link rel="icon" type="image/png" sizes="192x192" href="https://obelieve.github.io/site/images/android-icon-192x192.png?h=8fc96efc0d93b2ca4d24">
  <link rel="icon" type="image/png" sizes="32x32" href="https://obelieve.github.io/site/images/favicon-32x32.png?h=68480d370330a1370abf">
  <link rel="icon" type="image/png" sizes="96x96" href="https://obelieve.github.io/site/images/favicon-96x96.png?h=0db83734130603a067c1">
  <link rel="icon" type="image/png" sizes="16x16" href="https://obelieve.github.io/site/images/favicon-16x16.png?h=c5a1bcfc63c8f941cce5">
  <meta name="msapplication-TileColor" content="#fffcf9" />
  <meta name="msapplication-TileImage" content="https://obelieve.github.io/site/images/ms-icon-144x144.png?h=5deaaef8a0670003fd10">
  <meta name="theme-color" content="#fffcf9" />
  <meta property="og:site_name" content="Obelieveçš„åšå®¢" />
  
  
  
  
  <link rel="alternate" type="application/atom+xml" title="tags: Python - Obelieveçš„åšå®¢ RSS" href="https://obelieve.github.io/tags/python/atom.xml">
  <style>@charset "UTF-8";
html,
body,
p,
dt,
dd,
figure,
fieldset,
blockquote,
legend,
textarea,
pre,
iframe,
hr,
h1,
h2,
h3,
h4,
h5,
h6 {
  margin: 0;
  padding: 0;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  font-size: 100%;
  font-weight: normal;
}

button,
input,
select {
  margin: 0;
}
div {
  box-sizing: border-box;
}

img,
video {
  height: auto;
  max-width: 100%;
}

iframe {
  border: 0;
}

table {
  text-align: justify;
  width: 100%;
  border-collapse: collapse;
  border-spacing: 0;
  margin-bottom: 1.4em;
}
td,
th {
  padding: 0.5em;
  border-bottom: 1px solid var(--colors-divider);
}

.by {
  font-size: 1.175rem;
  padding-bottom: 0.75rem;
  font-weight: 500;
}

.feed-entry li {
  margin-bottom: 0.5rem;
}

/* --reset end -- */
/*
 #d2bf9e
 #fcfcfc
 #fffff8
 #41403e
 backanother #e6ddd0
 divider: rgb(226, 232, 240);
 code back: edf0f3
 rgb(249, 245, 233)
239
#EFEDEA
/* rgba(0, 0, 0, 0.8)*/
/*#fffef8
c35
f9f5e9
ea4c89
fffef8
#f4ecd8;
#FDF6E3
#faf8f1
background-color:rgb(255, 252, 249);
#272629

  --colors-background: #efedea;
  --colors-text: #18181c;
*/
html {
  font-size: 15px;
  box-sizing: border-box;
  /* --colors-text: rgba(68, 64, 60, 0.8); */
  --colors-text: rgba(34, 34, 34);
  --colors-muted: #718096;
  --colors-primary: #cc3355;
  --colors-divider: rgba(0, 0, 0, 0.06);
  --colors-primary-light: rgba(234, 76, 137, 0.5);
  --colors-background: #f7f2ed;
  --colors-code-background: rgba(0, 0, 0, 0.08);
  /* --colors-quote-background: rgba(255, 255, 255, 0.5); */
  /* --colors-quote-background: rgb(0 0 0/3%); */
  --colors-quote-background: hsla(37, 17%, 85%, 0.5);
  --colors-quote-hover-background: rgba(255, 255, 255, 0.7);
  --colors-blue: #1ca9c9;
  --colors-secondary: #14213d;
  --colors-surface: rgba(0, 0, 0, 0.04);
  font-family:
    ui-sans-serif,
    system-ui,
    -apple-system,
    BlinkMacSystemFont,
    segoe ui,
    Roboto,
    helvetica neue,
    Arial,
    noto sans,
    sans-serif,
    apple color emoji,
    segoe ui emoji,
    segoe ui symbol,
    noto color emoji;
  font-feature-settings: normal;
  font-variation-settings: normal;
}

/* Adds dark mode */
@media (prefers-color-scheme: dark) {
  html {
    --colors-background: #202124;
    --colors-text: rgb(236, 237, 238);
    --colors-code-background: rgba(0, 0, 0, 0.08);
    --colors-quote-background: hsl(226, 15%, 17%);
    --colors-quote-hover-background: hsl(226, 15%, 20%);
  }
}
body {
  color: var(--colors-text);
  background-color: var(--colors-background);
}

#root {
  /* margin-left: auto; */
  /* margin-right: auto; */
  /* max-width: 120rem; */
  position: relative;
}

h1,
h2,
h3 {
  padding-top: 1.4rem;
  padding-bottom: 1.4rem;
  margin-bottom: 1rem;
  line-height: 1;
  position: relative;
}
h4,
h5,
h6 {
  padding-top: 1.1rem;
  padding-bottom: 1.1rem;
  margin-bottom: 0.5rem;
  line-height: 1.1;
  font-weight: 400;
  position: relative;
}

.relative {
  position: relative;
}

.bold {
  font-weight: 600;
}
.mb-absolute {
  margin-bottom: -0.8rem;
}

.no-border {
  border: none;
}

.tweet-box {
  box-sizing: border-box;
  overflow: hidden;
  word-wrap: break-word;
  border-width: 1px;
  border-style: solid;
  border-color: var(--colors-divider);
  padding-left: 1rem;
  padding-right: 1rem;
  padding-bottom: 1.5rem;
  padding-top: 1.5rem;
  background: var(--colors-quote-background);
}

.tweet-box .overlay {
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  right: 0;
}
.tweet-box .overlay:hover {
  background-color: var(--colors-quote-hover-background);
}
.tweet-box .inner {
  position: relative;
  pointer-events: none;
  z-index: 1;
}

.tweet-box .inner a {
  pointer-events: all;
  position: relative;
}
p.tweet-content {
  line-height: 1.5rem !important;
  padding-right: 2rem;
  margin-bottom: 0.6rem;
  font-size: 0.9rem !important;
}
.tweet-content a:link,
.tweet-content a:visited {
  -webkit-text-decoration: none;
  text-decoration: none;
  color: rgb(27, 149, 224);
}
.tweet-avatar-wrapper {
  margin-right: 0.5rem;
  margin-bottom: 0;
  width: 48px;
  min-width: 48px;
  border-radius: 9999px;
}
.tweet-icon {
  box-sizing: border-box;
  margin: 0;
  min-width: 0;
  -webkit-text-decoration: none;
  text-decoration: none;
  position: absolute;
  right: 0;
  top: 0.2rem;
}
.tweet-icon-svg {
  width: 25px;
  height: 25px;
  color: rgb(27, 149, 224);
  fill: currentcolor;
}

h1 {
  font-size: 2.4rem;
}

h2 {
  font-size: 1.675rem;
  font-weight: 500;
}

.feed-entry h2 {
  font-size: 1.125rem;
}
.feed-entry h2.entry-title {
  font-size: 1.6rem;
  font-style: normal;
  font-weight: 500;
}

.feed-entry h3 {
  font-size: 1.05rem;
  font-style: normal;
}
p,
li,
ul,
ol {
  font-size: 1rem;
  line-height: 1.8rem;
}

h3 {
  font-size: 1.375rem;
  font-style: italic;
}

article {
  margin-bottom: 4rem;
}
article:last-child {
  margin-bottom: 0;
}
pre {
  background-color: var(--colors-quote-background);
  margin-top: 0px;
  margin-bottom: 1rem;
  padding: 1.5rem 1rem;
  border: 0px;
  border-radius: 0.5rem;
  overflow: auto;
}

code {
  border-radius: 0.25rem;
  padding: 0.375rem 0.5rem;
  background-color: var(--colors-code-background);
}

pre > code {
  font-size: 0.9rem;
  display: block;
}

pre code {
  background: none;
}

code,
pre > code {
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  font-size: 1rem;
  line-height: 1.42;
  -webkit-text-size-adjust: 100%;
  /* Prevent adjustments of font size after orientation changes in iOS. See https://github.com/edwardtufte/tufte-css/issues/81#issuecomment-261953409 */
}

hr {
  display: block;
  height: 1px;
  width: 55%;
  border: 0;
  border-top: 1px solid var(--colors-divider);
  margin: 2rem 0;
  padding: 0;
}

ul {
  margin-bottom: 0.8rem;
}

ul > details > summary {
  margin-left: -1.4rem;
}

p {
  margin-bottom: 1.4rem;
  padding-right: 0;
  vertical-align: baseline;
}

blockquote {
  margin: 2rem 0;
  position: relative;
  border-radius: 10px;
  background-color: var(--colors-quote-background);
  /* background-color: #efefef; */
  /* background-color: hsl(60, 9%, 87%); */
  padding: 1.4rem 1.4rem 0rem 1.4rem;
  /* border-top: 1px solid var(--colors-divider); */
  box-sizing: border-box;
  overflow: auto;
}

/* blockquote p { */
/*   font-size: 1.2rem; */
/*   line-height: 2.1rem; */
/* } */
/**/
/* blockquote p:lang(en) { */
/*   font-size: 1.3rem; */
/* } */
/* blockquote::before{ */
/*   position: absolute; */
/*   content:"\201C";  */
/*   top: 0.875rem; */
/*   font-size: 2.5rem; */
/*   color: var(--colors-primary); */
/*   line-height: .1em; */
/*   vertical-align: -.4em; */
/*   font-weight: bold; */
/*   font-family: Courier, monospace; */
/* } */
/* blockquote > p:first-child { */
/*   text-indent: 2rem; */
/* } */
p,
dl,
ol,
ul {
  line-height: 1.5rem;
}
p {
  line-height: 2.1rem;
}

p:lang(en),
dl:lang(en),
ol:lang(en),
ul:lang(en) {
  font-size: 1.2rem;
  line-height: 1.75rem;
}

button,
input[type="submit"] {
  border-bottom-left-radius: 15px 255px;
  border-bottom-right-radius: 225px 15px;
  border-top-left-radius: 255px 15px;
  border-top-right-radius: 15px 225px;
  transition: all 235ms ease 0s;
  box-shadow: 15px 28px 25px -18px rgb(0 0 0 / 20%);
  transition: all 235ms ease-in-out 0s;
  align-self: center;
  background: 0 0;
  border: 2px solid var(--colors-text);
  color: var(--colors-text);
  cursor: pointer;
  display: inline-block;
  font-size: 1rem;
  outline: 0;
  padding: 0.75rem;
  font-family: Neucha, sans-serif;
}

button,
input[type="submit"]:hover {
  transform: translate3d(0, 2px, 0);
  box-shadow: 2px 8px 8px -5px rgb(0 0 0 / 30%);
}

input[type="url"],
input[type="text"],
input[type="search"] {
  /* -webkit-appearance: none; */
  background: none;
  border: 2px solid var(--colors-text);
  border-bottom-left-radius: 15px 255px;
  border-bottom-right-radius: 225px 15px;
  border-top-left-radius: 255px 15px;
  border-top-right-radius: 15px 225px;
  color: var(--colors-text);
  font-size: 1rem;
  outline: 0;
  padding: 0.75rem;
  box-shadow: 15px 28px 25px -18px rgb(0 0 0 / 20%);

  /* -webkit-border-radius: 0px; */
}
.display-block {
  display: block;
}

input[type="url"]:focus,
input[type="text"]:focus,
input[type="search"]:focus {
  border: 2px solid var(--colors-blue);
}

#search-bar-input {
  width: 80%;
  min-width: 260px;
}

.meilisearch-autocomplete {
  display: block !important;
}
.meilisearch-autocomplete .dsb-dropdown-menu {
  max-height: 400px;
  overflow-y: auto;
  min-width: 300px;
  width: 100%;
}
input:focus:not(:focus-visible) {
  border: 2px solid var(--colors-text);
}
input:focus-visible {
  border: 2px solid var(--colors-blue);
}
.no-underline {
  text-decoration: none;
}

.meilisearch-autocomplete {
  display: block;
}
a {
  word-break: break-all;
}
a:link,
a:visited {
  -webkit-transition: color 200ms ease;
  transition: color 200ms ease;
  text-decoration: underline;
  color: inherit;
  text-decoration-thickness: 1px;
}

:target {
  scroll-margin-top: 56px;
}

.no-underline:link,
.no-underline:visited,
.sidebar a:link,
.sidebar a:visited {
  text-decoration: none;
}
.sidebar {
  overflow-x: visible;
  padding-bottom: 1.4rem;
}
.no-underline:hover,
a:hover {
  color: var(--colors-primary);
  text-decoration: underline;
}

.no-hover-underline:hover {
  text-decoration: none;
}

.muted,
a.muted,
.muted:link,
.muted:visited {
  color: var(--colors-muted);
}

.text {
  font-size: 1.125rem;
}

.text-color,
.text-color:link,
.text-color:visited {
  color: var(--colors-text);
}

.flex {
  display: flex;
}

.flex-3 {
  flex: 3;
}

.flex-1 {
  flex: 1;
}

.flex-1-auto {
  flex: 1 1 auto;
}

.flex-wrap {
  flex-wrap: wrap;
}

.justify-between {
  justify-content: space-between;
}

.justify-center {
  justify-content: center;
}

.items-center {
  align-items: center;
}

.list-none {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.border-muted {
  border: 1px solid var(--colors-muted);
}

.rounded-full {
  border-radius: 999rem;
}

.rounded {
  border-radius: 0.25rem;
}

.rounded-lg {
  border-radius: 1rem;
}

.w-full {
  width: 100%;
}

.p-sm {
  padding: 0.25rem;
}

.icon {
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 999rem;
}

.inline-block {
  display: inline-block;
}

.menu li:not(:last-child) {
  margin-right: 0.6rem;
}

.m-l-2 {
  margin-left: 0.5rem;
}

.py {
  padding-top: 1.4rem;
  padding-bottom: 1.4rem;
}
.pt0 {
  padding-top: 0;
}

.pb0 {
  padding-bottom: 0;
}
.flex-shrink-0 {
  flex-shrink: 0;
}
.py-sm {
  padding-top: 0.5rem;
  padding-bottom: 0.5rem;
}

.px-sm {
  padding-left: 0.5rem;
  padding-right: 0.5rem;
}

.my {
  margin-top: 1.4rem;
  margin-bottom: 1.4rem;
}

.my-2 {
  margin-top: 2.4rem;
  margin-bottom: 2.4rem;
}

.px {
  padding-left: 1.4rem;
  padding-right: 1.4rem;
}
.px-2xl {
  padding-left: 5rem;
  padding-right: 5rem;
}
.pr-sm {
  padding-right: 0.5rem;
}

.pl-sm {
  padding-left: 0.5rem;
}

.pt {
  padding-top: 1.4rem;
}

.pl {
  padding-left: 1.4rem;
}

.list-none {
  list-style: none;
}

.navbar {
  position: static;
  top: 0;
  left: 0;
  background-color: var(--colors-background);
}

.navbar-inner {
  padding: 0.5rem 1.4rem;
  box-sizing: border-box;
  display: flex;
}

.zola-anchor {
  margin-left: 0.5rem;
  text-decoration: none;
}

.zola-anchor:link,
.zola-anchor:visited {
  text-decoration: none;
}

li.inline {
  display: inline-block;
  margin-right: 0.5rem;
}

.text-bigger {
  font-size: 1rem;
}
.text-lg {
  font-size: 1.5rem;
}

.text-sm {
  font-size: 0.9rem;
}

.text-sm p {
  font-size: 0.9rem;
}
p.text-sm:lang(en),
dl.text-sm:lang(en),
ol.text-sm:lang(en),
ul.text-sm:lang(en) {
  font-size: 0.9rem;
}

.pb {
  padding-bottom: 1.4rem;
}

.pb-lg {
  padding-bottom: 3rem;
}
.pb-sm {
  padding-bottom: 0.5rem;
}

.p0 {
  padding: 0;
}

.no-toc {
  width: auto;
}
.text-center {
  text-align: center;
}

.sidebar ul {
  margin-top: 0;
  padding-left: 1rem;
}

.sidebar li {
  font-size: 1rem;
}

.nav-divider {
  border-right: 2px solid var(--colors-divider);
  height: 24px;
  margin: 0 1rem 0 0rem;
}

.h-card {
  display: flex;
  align-items: center;
}

.display-none {
  display: none;
}

.mb {
  margin-bottom: 1.4rem;
}

.mb-li {
  margin-bottom: 1rem;
}

.mb-lg {
  margin-bottom: 2.4rem;
}

.mr {
  margin-right: 1.4rem;
}

.mr-sm {
  margin-right: 0.5rem;
}

.card {
  /* background: #fff; */
  background: var(--colors-surface);
}

.body-zone {
  padding-left: 1.4rem;
  padding-right: 1.4rem;
}
.header {
  padding-top: 1.4rem;
  max-width: 74rem;
  margin: 0 auto;
}
.post-header {
}
.header-inner {
  max-width: 52rem;
}
.mt {
  margin-top: 1.4rem;
}
.mb-lg {
  margin-bottom: 2.4rem;
}

@media (min-width: 48rem) {
  .navbar {
    position: fixed;
  }
  .nav-divider {
    border-top: 2px solid var(--colors-divider);
    width: 24px;
    margin: 0.6rem 0 1.6rem 0;
    height: 0;
    border-right: none;
  }

  .navbar {
    height: 100%;
    width: 4rem;
    /*
    border-right: 1px solid var(--colors-divider);
 */
  }

  .navbar-inner {
    padding: 1.4rem 0.5rem;
    flex-direction: column;
    height: 100vh;
  }

  .menu {
    flex-direction: column;
  }

  .menu li:not(:last-child) {
    margin-bottom: 1rem;
    margin-right: 0;
  }

  .body-zone {
    padding-left: 5.4rem;
    max-width: 74rem;
    margin: 0 auto;
  }
}

@media (min-width: 52rem) {
  h1::after,
  h2::after,
  h3::after {
    background-color: var(--colors-background);
  }
  .main {
    margin-right: 19rem;
  }
  .main-inner {
    max-width: 44rem;
    padding: 0;
  }
  .no-toc {
    width: 20rem;
  }

  .main-toc {
    display: none;
  }

  .sidebar {
    position: absolute;
    right: 0;
    top: 0;
    border-top: none;
    width: 16rem;
  }

  .sidebar ul {
    border-left: 1px solid var(--colors-divider);
    list-style: none;
  }

  .sidebar li {
    font-size: 0.9rem;
  }

  .sidebar h2,
  .sidebar h3 {
    margin-bottom: 0;
    font-size: 1rem;
    /* font-weight: 400; */
    padding-bottom: 1rem;
    border: none;
  }
}
.index-intro {
  font-size: 1rem;
}
/*å¤‡æ¡ˆåœ°å€æ ·å¼*/
a.theme-link-gray {
    text-decoration: none;
    font-size: 12px;
    color: #ccc;
}
.theme-info {
    display: inline-block;
    text-align: center;
    width: 100%;
    padding: 10px 0;
    font-size: 12px;
}</style><style>html {
  font-family: "Noto Serif SC", Roboto, Helvetica, Tahoma, Arial, "PingFang SC",
    "Hiragino Sans GB", "Microsoft YaHei", "Noto Sans CJK",
    "WenQuanYi Micro Hei", sans-serif;
}
</style><link rel="manifest" href="https://obelieve.github.io/site/images/manifest.json">
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-W03M6ZDZWG"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag("js", new Date());
    gtag("config", "G-W03M6ZDZWG");
  </script>
  
  
</head>

<body>
  <div id="top"></div>
  <div id="root">
    <div class="body-zone">
      
      <header id="overview" class="pt">
      <div class="">
        <a href="https://obelieve.github.io/">Obelieve&#x27;s Blog</a>
        <span class="divider">&nbsp;&gt;&nbsp;</span>
          <a href="&#x2F;categories/">All tags</a>
          <span class="divider">&nbsp;&gt;&nbsp;</span>
          Python
        </div>
    </header>
  
      <div class="main-zone relative">
        <div class="main">
          <div class="main-inner">
            
    <div class="taxonomy-single-page main-box-block h-feed hfeed">
      <div class="display-none">
        <div class="p-name site-title">Obelieveçš„åšå®¢</div>
        <p class="p-summary site-description"></p>
      </div>
      <div>
        
          
            
  <article class="h-entry hentry feed-entry">
    <h2 class="no-border pb-sm entry-title">
      <a class="no-underline  u-url p-name entry-title" rel="bookmark" href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;blog&#x2F;celeryku&#x2F;">Celery åˆ†å¸ƒå¼ä»»åŠ¡é˜Ÿåˆ—</a> <a href="#index-1" id="index-1" class="zola-anchor"></a>
    </h2>
    <h2 id="jing-ji-ren-broker">ç»çºªäººï¼ˆbrokerï¼‰<a class="zola-anchor" href="#jing-ji-ren-broker" aria-label="Anchor link for: jing-ji-ren-broker">ğŸ”—</a></h2>
<p>éœ€è¦å‘é€æ¶ˆæ¯/æ¥æ”¶æ¶ˆæ¯ï¼Œé€šè¿‡ç¬¬ä¸‰æ–¹æ¶ˆæ¯ä»£ç†è½¯ä»¶ï¼Œæ¥å®ç°ã€‚</p>
<ul>
<li>RabbitMQ</li>
<li>Redis</li>
</ul>
<pre data-lang="shell" class="language-shell "><code class="language-shell" data-lang="shell">#RabbitMQå®‰è£…
#Linuxç³»ç»Ÿ
sudo apt-get install rabbitmq-server
#Docker
docker run -d -p 5672:5672 rabbitmq
#Rediså®‰è£…
docker run -d -p 6379:6379 redis
</code></pre>
<h2 id="an-zhuang">å®‰è£…<a class="zola-anchor" href="#an-zhuang" aria-label="Anchor link for: an-zhuang">ğŸ”—</a></h2>
<pre data-lang="shell" class="language-shell "><code class="language-shell" data-lang="shell">pip install celery
</code></pre>
<h2 id="jian-dan-li-zi">ç®€å•ä¾‹å­<a class="zola-anchor" href="#jian-dan-li-zi" aria-label="Anchor link for: jian-dan-li-zi">ğŸ”—</a></h2>
<pre data-lang="python" class="language-python "><code class="language-python" data-lang="python">#task.py
from celery import Celery

#broker ä»£ç†æ¶ˆæ¯çš„è½¯ä»¶ ã€backend ä¿å­˜ä»»åŠ¡ç»“æœçš„åç«¯
app = Celery(&#x27;tasks&#x27;, broker=&#x27;pyamqp:&#x2F;&#x2F;guest@localhost&#x2F;&#x2F; &#x27;,backend=&#x27;rpc:&#x2F;&#x2F;&#x27;)  
#rabbitMQ  pyamqp:&#x2F;&#x2F;guest@localhost&#x2F;&#x2F; 
#redis redis:&#x2F;&#x2F;localhost:6379&#x2F;0
@app.task  
def add(x, y):  
    return x + y
</code></pre>
<h2 id="yun-xing-gong-zuo-fu-wu-qi">è¿è¡Œå·¥ä½œæœåŠ¡å™¨<a class="zola-anchor" href="#yun-xing-gong-zuo-fu-wu-qi" aria-label="Anchor link for: yun-xing-gong-zuo-fu-wu-qi">ğŸ”—</a></h2>
<pre data-lang="shell" class="language-shell "><code class="language-shell" data-lang="shell">celery -A task worker --loglevel=INFO 
</code></pre>
<h2 id="diao-yong-ren-wu">è°ƒç”¨ä»»åŠ¡<a class="zola-anchor" href="#diao-yong-ren-wu" aria-label="Anchor link for: diao-yong-ren-wu">ğŸ”—</a></h2>
<ul>
<li>ä½¿ç”¨delayè°ƒç”¨ä»»åŠ¡</li>
</ul>
<pre data-lang="python" class="language-python "><code class="language-python" data-lang="python">from tasks import add
add.delay(4, 4)
</code></pre>
<h2 id="bao-cun-ren-wu">ä¿å­˜ä»»åŠ¡<a class="zola-anchor" href="#bao-cun-ren-wu" aria-label="Anchor link for: bao-cun-ren-wu">ğŸ”—</a></h2>
<ul>
<li>Celery å†…ç½®äº†å‡ ä¸ªç»“æœåç«¯å¯ä¾›é€‰æ‹©ï¼š SQLAlchemy / Django ORMï¼Œ MongoDB ã€ Memcached ã€ Redis ã€ RPC ï¼ˆ RabbitMQ /AMQPï¼‰ä»¥åŠ â€“ æˆ–è€…æ‚¨å¯ä»¥å®šä¹‰è‡ªå·±çš„ã€‚</li>
</ul>
<pre data-lang="python" class="language-python "><code class="language-python" data-lang="python">#RPCÂ ç»“æœåç«¯ 
#backend=&#x27;rpc:&#x2F;&#x2F;&#x27;

from tasks import add
result = add.delay(4,4)
result.ready() #åˆ¤æ–­ç»“æœæ˜¯å¦å®Œæˆ
result.get(timeout=1) #è·å–ç»“æœå¹¶è®¾ç½®è¶…æ—¶1s
result.get() #è·å–ç»“æœ 
# result.get(propagate=False) ä»»åŠ¡å¼‚å¸¸æ—¶get()ä¹Ÿä¼šå¼‚å¸¸ï¼Œpropagateè¦†ç›–æ“ä½œ
</code></pre>
<ul>
<li>error</li>
</ul>
<pre data-lang="shell" class="language-shell "><code class="language-shell" data-lang="shell">AttributeError: &#x27;DisabledBackend&#x27; object has no attribute &#x27;_get_task_meta_for&#x27;. Did you mean: &#x27;get_task_meta_for&#x27;?
# è§£å†³ é‡å¯è°ƒç”¨ä»»åŠ¡çš„Python
</code></pre>
<h2 id="pei-zhi">é…ç½®<a class="zola-anchor" href="#pei-zhi" aria-label="Anchor link for: pei-zhi">ğŸ”—</a></h2>
<pre data-lang="python" class="language-python "><code class="language-python" data-lang="python"># å•ä¸ªé…ç½®
app.conf.task_serializer = &#x27;json&#x27;
# update å¤šä¸ªé…ç½®
app.conf.update(
    task_serializer=&#x27;json&#x27;,
    accept_content=[&#x27;json&#x27;],  # Ignore other content
    result_serializer=&#x27;json&#x27;,
    timezone=&#x27;Europe&#x2F;Oslo&#x27;,
    enable_utc=True,
)
# é…ç½®æ¨¡å—
app.config_from_object(&#x27;celeryconfig&#x27;)
celeryconfig.py
###
broker_url = &#x27;pyamqp:&#x2F;&#x2F;&#x27;
result_backend = &#x27;rpc:&#x2F;&#x2F;&#x27;

task_serializer = &#x27;json&#x27;
result_serializer = &#x27;json&#x27;
accept_content = [&#x27;json&#x27;]
timezone = &#x27;Europe&#x2F;Oslo&#x27;
enable_utc = True
###
python -m celeryconfig # éªŒè¯é…ç½®æ¨¡å—æ˜¯å¦æ­£ç¡®
</code></pre>

    <div class="muted text-sm">
      <a title="2025-09-04" class="no-underline u-url p-name entry-title" rel="bookmark" href="https://obelieve.github.io/blog/celeryku/">
        <time class="dt-published published" datetime="2025-09-04">2025.09.04</time>
      </a>
      
      <span>&nbsp;on</span>
      <a title="Notes" class="no-underline p-category" rel="category tag" href="https://obelieve.github.io/categories/notes/">
          Notes
        </a>
      

    </div>
  </article>
  
          
            
  <article class="h-entry hentry feed-entry">
    <h2 class="no-border pb-sm entry-title">
      <a class="no-underline  u-url p-name entry-title" rel="bookmark" href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;blog&#x2F;pythonyu-fa&#x2F;">Pythonè¯­æ³•</a> <a href="#index-2" id="index-2" class="zola-anchor"></a>
    </h2>
    <p>[TOC]</p>
<h2 id="zhu">æ³¨:<a class="zola-anchor" href="#zhu" aria-label="Anchor link for: zhu">ğŸ”—</a></h2>
<ul>
<li>è·¨è¡Œå­—ç¬¦ä¸²ä½¿ç”¨<code>'''</code>è¡¨ç¤º</li>
<li><code>callable(object)</code>å¯è°ƒç”¨å¯¹è±¡åˆ¤æ–­å‡½æ•°ï¼Œç±»æ˜¯å¯è°ƒç”¨å¯¹è±¡ï¼Œå®ä¾‹éœ€è¦å®ç°<code>__call__</code>æ–¹æ³•</li>
<li>ifæ¡ä»¶å¥å˜å¼
<ul>
<li><code>&lt;A&gt; if &lt;B&gt; else &lt;C&gt;</code> é»˜è®¤è¿”å›A,å¦‚æœBä¸ºFalseè¿”å›C</li>
<li><code>if &lt;A&gt; is not &lt;B&gt;:</code> å­—é¢æ„æ€Aä¸æ˜¯B,ä¸ºTrue</li>
<li><code>if not &lt;A&gt;:</code> Aæ˜¯ç©º(False),ä¸ºTrue</li>
</ul>
</li>
<li>ä¸€ä¸ªç±»ä¸­ï¼Œç›¸åŒæ–¹æ³•åï¼Œåé¢æ–¹æ³•è¦†ç›–å‰é¢æ–¹æ³•</li>
<li>é­”æ³•æ–¹æ³•
<ul>
<li><code>__setattr__</code> æ‹¦æˆªèµ‹å€¼ é‡å†™è¯¥æ–¹æ³•ï¼Œå½“å®ä¾‹å¯¹å±æ€§è¿›è¡Œèµ‹å€¼æ—¶ï¼Œä¼šè°ƒç”¨è¯¥æ–¹æ³•</li>
<li><code>__getattr__</code> æ‹¦æˆªè¿ç®— é‡å†™è¯¥æ–¹æ³•ï¼Œå½“å®ä¾‹ç›´æ¥å¼•ç”¨ä¸èƒ½å­˜åœ¨çš„å±æ€§æ—¶ï¼Œä¼šè°ƒç”¨è¯¥æ–¹æ³•</li>
</ul>
</li>
<li><code>//</code> ï¼šåšé™¤æ³•å¹¶è¿”å›ä¸å¤§äºç»“æœçš„æ•´æ•°</li>
<li><code>[cls(**r) for r in rs]</code>,clsè¡¨ç¤ºç±»æ¥æ”¶ä¸€ä¸ªå…³é”®å­—å‚æ•°ï¼Œrsè¡¨ç¤ºè¿­ä»£å™¨ã€‚
é€šè¿‡è¿­ä»£å™¨æŠŠå…³é”®å­—å‚æ•°ä¼ å…¥åˆ°clsä¸­ï¼Œç„¶åè¿”å›ä¸€ä¸ªlistå¯¹è±¡</li>
</ul>
<h2 id="1-zhi-xing-mo-shi">1.æ‰§è¡Œæ¨¡å¼<a class="zola-anchor" href="#1-zhi-xing-mo-shi" aria-label="Anchor link for: 1-zhi-xing-mo-shi">ğŸ”—</a></h2>
<h3 id="1-jiao-hu-shi-mo-shi-zhi-jie-shu-ru-bing-jie-shi">1.äº¤äº’å¼æ¨¡å¼(ç›´æ¥è¾“å…¥ï¼Œå¹¶è§£é‡Š)<a class="zola-anchor" href="#1-jiao-hu-shi-mo-shi-zhi-jie-shu-ru-bing-jie-shi" aria-label="Anchor link for: 1-jiao-hu-shi-mo-shi-zhi-jie-shu-ru-bing-jie-shi">ğŸ”—</a></h3>
<p><code>&gt;&gt;&gt;print("hello world")</code></p>
<h3 id="2-ming-ling-xing-mo-shi">2.å‘½ä»¤è¡Œæ¨¡å¼<a class="zola-anchor" href="#2-ming-ling-xing-mo-shi" aria-label="Anchor link for: 2-ming-ling-xing-mo-shi">ğŸ”—</a></h3>
<ul>
<li>
<p>2.1å†…ç½®å‡½æ•°:</p>
<ul>
<li>
<p>I/O
input()
print()</p>
</li>
<li>
<p>Python3.xä½¿ç”¨Unicodeç¼–ç ï¼š
ord() #å­—ç¬¦è½¬ä¸ºæ•´æ•°è¡¨ç¤º
chr() #æ•´æ•°è½¬ä¸ºå­—ç¬¦è¡¨ç¤º
PSï¼šord('A') è¾“å‡º65
chr(666) è¾“å‡º'Êš'</p>
</li>
<li>
<p>ç¼–ç /è§£ç 
"ascii" æ˜¯bytes(å­—èŠ‚æ–¹å¼,bå‰ç¼€)ï¼Œåœ¨bytesä¸­ï¼Œæ— æ³•æ˜¾ç¤ºä¸ºASCIIå­—ç¬¦çš„å­—èŠ‚ï¼Œç”¨\x##æ˜¾ç¤ºã€‚
"utf-8"
encode() #ç”¨ä»€ä¹ˆç¼–ç ,
decode() #ç”¨ä»€ä¹ˆè§£ç 
PSï¼š â€˜Aâ€™.encode('ascii')è¾“å‡ºb'A'</p>
</li>
<li>
<p>å…¶ä»–
len() #å­—ç¬¦/å­—èŠ‚é•¿åº¦
format() #æ ¼å¼åŒ–è¾“å‡º
help(&lt;func_name&gt;) #æŸ¥çœ‹å‡½æ•°ç”¨æ³•</p>
</li>
<li>
<p>é‡æ–°åŠ è½½æ¨¡å—</p>
</li>
</ul>
<pre><code>import importlib
importlib.reload(&lt;module_name&gt;)
</code></pre>
</li>
</ul>
<h2 id="2-yu-fa-guan-jian-zi">2.è¯­æ³•-å…³é”®å­—<a class="zola-anchor" href="#2-yu-fa-guan-jian-zi" aria-label="Anchor link for: 2-yu-fa-guan-jian-zi">ğŸ”—</a></h2>
<h3 id="2-1bian-liang-lei-xing-ren-yi-dong-tai-yu-yan-bian-liang-lei-xing-gu-ding-jing-tai-yu-yan">2.1å˜é‡ç±»å‹ä»»æ„-åŠ¨æ€è¯­è¨€ï¼Œå˜é‡ç±»å‹å›ºå®š-é™æ€è¯­è¨€<a class="zola-anchor" href="#2-1bian-liang-lei-xing-ren-yi-dong-tai-yu-yan-bian-liang-lei-xing-gu-ding-jing-tai-yu-yan" aria-label="Anchor link for: 2-1bian-liang-lei-xing-ren-yi-dong-tai-yu-yan-bian-liang-lei-xing-gu-ding-jing-tai-yu-yan">ğŸ”—</a></h3>
<ul>
<li>1.è¯­å¥ç¼©è¿›é£æ ¼ï¼Œå¤§å°å†™åŒºåˆ†</li>
<li>2.æ•°æ®ç±»å‹ï¼š
æµ®ç‚¹å‹ï¼š"2e5"è¡¨ç¤º 2*10çš„5æ¬¡æ–¹ï¼Œ"2e-5" è¡¨ç¤º2*10çš„-5æ¬¡æ–¹
å¸ƒå°”å‹ï¼š"True" æˆ– "False"
é€»è¾‘ç¬¦å·ï¼š "and"(ä¸)ã€"or"(æˆ–)ã€"not"(é)
ç©ºå€¼ï¼š"None"</li>
<li>3.é™¤æ³•ï¼š"//"è¡¨ç¤ºé™¤æ³•æœ€åç»“æœåªå–æ•´æ•°éƒ¨åˆ†</li>
</ul>
<h3 id="2-2ge-shi-hua-shu-chu">2.2æ ¼å¼åŒ–è¾“å‡º<a class="zola-anchor" href="#2-2ge-shi-hua-shu-chu" aria-label="Anchor link for: 2-2ge-shi-hua-shu-chu">ğŸ”—</a></h3>
<ul>
<li>1.ä½¿ç”¨ â€œ%â€
PS: print("Hello,%s"%'World',"ok%d"%3)
è¾“å‡º Hello,World ok3</li>
<li>2.ä½¿ç”¨format(),ä½¿ç”¨å ä½ç¬¦{0},{1}...
PSï¼šprint("{0},{1}".format('Hello','World'))</li>
</ul>
<h3 id="2-3-list-ke-bian-shu-zu-zhong-gua-hao-he-tuple-bu-ke-bian-shu-zu-xiao-gua-hao">2.3  list(å¯å˜æ•°ç»„ <code>&lt;ä¸­æ‹¬å·&gt; []</code>)å’Œtuple(ä¸å¯å˜æ•°ç»„ <code>&lt;å°æ‹¬å·&gt; ()</code>)<a class="zola-anchor" href="#2-3-list-ke-bian-shu-zu-zhong-gua-hao-he-tuple-bu-ke-bian-shu-zu-xiao-gua-hao" aria-label="Anchor link for: 2-3-list-ke-bian-shu-zu-zhong-gua-hao-he-tuple-bu-ke-bian-shu-zu-xiao-gua-hao">ğŸ”—</a></h3>
<ul>
<li>listç›¸å…³
<ul>
<li>1.listå®šä¹‰ï¼š</li>
</ul>
<pre><code>num=[1,2,3]
num=[] (ç©ºæ•°ç»„)
</code></pre>
<ul>
<li>2.è®¿é—®listï¼š</li>
</ul>
<pre><code>num[0]è¾“å‡º 1
num[1]è¾“å‡º 2
num[-1]è¾“å‡º 3
num[-2]è¾“å‡º 2
num[-3]è¾“å‡º 1
num[-4]æŠ¥é”™
</code></pre>
<ul>
<li>3.å¢åŠ listå…ƒç´ ï¼š</li>
</ul>
<pre><code>num.append(&quot;a&quot;) è¾“å‡º [1,2,3,&#x27;a&#x27;]
num.insert(1,1.1) è¾“å‡º [1,1.1,2,3,&#x27;a&#x27;]
num.insert(-1,&#x27;last_1&#x27;) è¾“å‡º[1,1.1,2,3,&#x27;last_1&#x27;,&#x27;a&#x27;]
</code></pre>
<ul>
<li>4.åˆ é™¤listå…ƒç´ ï¼š</li>
</ul>
<pre><code>num.pop()è¾“å‡º[1,1.1,2,3,&#x27;last_1&#x27;]
num.pop(1)è¾“å‡º[1,2,3,&#x27;last_1&#x27;]
num.pop(-1)è¾“å‡º[1,2,3]
</code></pre>
</li>
<li>tupleç›¸å…³
<ul>
<li>1.tupleå®šä¹‰ï¼š</li>
</ul>
<pre><code>#æ²¡æœ‰&quot;å¢åŠ &#x2F;åˆ é™¤&quot;æ–¹æ³•,æ•°ç»„ä¸å˜
num=[1,2]
finalNum=(1,2,num)
finalNum=()(ç©ºæ•°ç»„)
å¦‚æœå®šä¹‰finalNum=(1)ï¼Œpythoné˜²æ­¢å’Œè¡¨è¾¾å¼æ­§ä¹‰ï¼Œ
è§„å®šfinalNumå˜é‡è¡¨ç¤ºæ•°å­—1ã€‚
å¯ä»¥è¿™æ ·è¡¨ç¤º finalNum=(1,)
</code></pre>
<ul>
<li>2.è®¿é—®tupleï¼š</li>
</ul>
<pre><code>finalNum[0]è¾“å‡º 1
finalNum[1]è¾“å‡º 2
finalNum[-1]è¾“å‡º [1,2]
finalNum[-1][0] è¾“å‡º 1
</code></pre>
</li>
</ul>
<h3 id="2-4-tiao-jian-pan-duan">2.4 æ¡ä»¶åˆ¤æ–­<a class="zola-anchor" href="#2-4-tiao-jian-pan-duan" aria-label="Anchor link for: 2-4-tiao-jian-pan-duan">ğŸ”—</a></h3>
<ul>
<li>å…³é”®å­— "if"ã€"else"ã€"elif"(else if ç¼©å†™)ã€<code>":"</code>(å†’å·)</li>
<li>æ ¼å¼<pre><code>&lt;æ¡ä»¶åˆ¤æ–­&gt;:éé›¶æ•°å€¼ã€éç©ºå­—ç¬¦ä¸²ã€éç©ºæ•°ç»„ ä¸ºTrueï¼Œå¦åˆ™ False
if&lt;æ¡ä»¶åˆ¤æ–­&gt;: #è¦åŠ å†’å· &quot;:&quot;
	&lt;æ‰§è¡Œ&gt;
elif&lt;æ¡ä»¶åˆ¤æ–­&gt;:
	&lt;æ‰§è¡Œ&gt;
elseï¼š
	&lt;æ‰§è¡Œ&gt;
</code></pre>
</li>
<li>å­—ç¬¦ä¸²ä¸èƒ½å’Œæ•°å­—æ¯”è¾ƒ<pre><code>b = input() #input()è¿”å›æ˜¯å­—ç¬¦ä¸²ç±»å‹ï¼Œéœ€è¦è½¬ä¸ºæ•°å­—
b = int(b) #int()æ–¹æ³•ï¼Œè½¬ä¸ºæ•´æ•°
b&gt;100
</code></pre>
</li>
</ul>
<h3 id="2-5-xun-huan">2.5 å¾ªç¯<a class="zola-anchor" href="#2-5-xun-huan" aria-label="Anchor link for: 2-5-xun-huan">ğŸ”—</a></h3>
<ul>
<li><code>for &lt;æŒ‡ä»£å˜é‡&gt; in &lt;æ•°ç»„&gt;:</code><pre><code>range(100) #è¿”å›æ•´æ•°åºåˆ—çš„rangeå¯¹è±¡
list(range(100)) #è½¬ä¸ºæ•°ç»„è¡¨ç¤º[1,2,...,99]
</code></pre>
</li>
<li><code>while &lt;æ¡ä»¶&gt;:&lt;ç¼©è¿›&gt; &lt;æ‰§è¡Œ&gt;</code>
<code>break</code>   é€€å‡ºå¾ªç¯
<code>continue</code>  åœæ­¢å½“å‰æ¬¡æ‰§è¡Œï¼Œç»§ç»­å¾ªç¯åˆ¤æ–­</li>
</ul>
<h3 id="2-6-shu-ju-ji-he-dict-he-set">2.6 æ•°æ®é›†åˆï¼šdict å’Œ set<a class="zola-anchor" href="#2-6-shu-ju-ji-he-dict-he-set" aria-label="Anchor link for: 2-6-shu-ju-ji-he-dict-he-set">ğŸ”—</a></h3>
<ul>
<li>
<p><code>dict</code> <code>&lt;å¤§æ‹¬å·&gt; {}</code> (dictionary) <code>Javaä¸­çš„map</code></p>
<pre><code>d={&#x27;a&#x27;:1,&#x27;b&#x27;:2,&quot;c&quot;:3}
d[&#x27;a&#x27;] è¾“å‡º 1
d[&#x27;a&#x27;] =&#x27;1a&#x27; #èµ‹å€¼
</code></pre>
<ul>
<li>æ˜¯å¦å­˜åœ¨keyï¼Œè¿”å› True æˆ– False</li>
</ul>
<pre><code>`&lt;key&gt; in &lt;dict&gt;`
`&lt;dict&gt;.get(&lt;key&gt;)` #ä¸å­˜åœ¨è¿”å› None
`&lt;dict&gt;.get(&lt;key&gt;,&lt;defaultValue&gt;)` #ä¸å­˜åœ¨è¿”å› &lt;defaultValue&gt;
</code></pre>
<ul>
<li>åˆ é™¤ <code>&lt;dict&gt;.pop(&lt;key&gt;)</code></li>
</ul>
</li>
<li>
<p><code>set</code> <code>&lt;å°æ‹¬å·&gt; ()</code></p>
<pre><code>å®šä¹‰	:éœ€è¦listæ•°ç»„
a = [1,2,3]
b=set(a) æˆ– b =set([1,2,3]) 
</code></pre>
<ul>
<li>add <code>&lt;set&gt;.add(&lt;key&gt;)</code></li>
<li>remove <code>&lt;set&gt;.remove(&lt;key&gt;)</code></li>
<li>é€»è¾‘æ“ä½œ <code>&amp;</code>ã€<code>|</code> ã€ <code>-</code></li>
</ul>
<pre><code>s1=([1,2,3])
s2=([2,3,4])
s1 &amp; s2 è¾“å‡º {2,3}
s1 | s2 è¾“å‡º {1,2,3,4}
s1 - s2 è¾“å‡º {1}
</code></pre>
</li>
</ul>
<h3 id="2-7-han-shu">2.7 å‡½æ•°<a class="zola-anchor" href="#2-7-han-shu" aria-label="Anchor link for: 2-7-han-shu">ğŸ”—</a></h3>
<ul>
<li>1.å‡½æ•°å®šä¹‰ï¼š  <code>def</code> &lt;method_name&gt;(params)<code>:</code></li>
<li>2.ç©ºå‡½æ•°ï¼š <code>def</code> &lt;method_name&gt;()<code>:</code> <code>pass</code></li>
<li>3.returnï¼š
<ul>
<li>1.returnè¡¨ç¤ºç»“æŸ,ç­‰ä»·äº return None</li>
<li>2.ä¸å†™é»˜è®¤è¿”å› return None</li>
<li>3.è¿”å›tupleç±»å‹å¯çœç•¥<code>()</code>,PS: return (x,y) å˜ä¸º return x,y</li>
</ul>
</li>
<li>4.å¯¼å…¥æ¨¡å—(.pyæ–‡ä»¶)ï¼š
<ul>
<li>1.å¼•å…¥æ•´ä¸ªæ¨¡å—ï¼š<code>import</code> math è¯´æ˜å¯¼å…¥mathåŒ…
PS:è‡ªå®šä¹‰æ–‡ä»¶tri.pyï¼Œ<code>import tri</code>å¼•å…¥triæ–‡ä»¶åˆ°å†…å­˜ é€šè¿‡ tri.&lt;mothod&gt;()è®¿é—®</li>
<li>2.å¯¼å…¥æ¨¡å—ä¸­çš„æŸä¸ªæ–¹æ³•ï¼š
<ul>
<li>æŸä¸ªå‡½æ•°ï¼š  <code>from</code> &lt;æ–‡ä»¶å&gt; <code>import</code> &lt;å‡½æ•°å&gt;</li>
<li>å…¨éƒ¨å‡½æ•°ï¼š<code>from</code> &lt;æ–‡ä»¶å&gt; import *</li>
</ul>
</li>
</ul>
</li>
<li>5.å‚æ•°ï¼š</li>
<li>
<ul>
<li>å¿…é€‰å‚æ•°</li>
<li>1.é»˜è®¤å‚æ•°ï¼Œ<code>å‚æ•°</code>=<code>å€¼</code></li>
<li><code>é»˜è®¤å‚æ•°å¿…é¡»æŒ‡å‘ä¸å˜å¯¹è±¡</code>ï¼Œå¦‚æœå€¼æ˜¯<code>[]</code>ï¼Œé‚£ä¹ˆæ¯æ¬¡è°ƒç”¨éƒ½æ˜¯åŸæ¥çš„<code>[]</code></li>
</ul>
<pre><code>def power(x,n=2):
	pass
è°ƒç”¨æ–¹å¼ï¼š
1.power(5),é»˜è®¤n=2
2.power(5,3)
</code></pre>
<ul>
<li>2.å¯å˜å‚æ•°ï¼š <code>*</code>params</li>
</ul>
<pre><code>def count(*params):
	sum = 0;
	for p in params:
		sum = sum +p
	return sum
è°ƒç”¨æ–¹å¼ï¼š
1.count(1) è¾“å‡º 1
2.count(1,2,3) è¾“å‡º 6
3.count(*[1,2,3]) è¾“å‡º 6
</code></pre>
<ul>
<li>3.å…³é”®å­—å‚æ•°ï¼š <code>**</code>params</li>
</ul>
<pre><code>def student(name,age,**params):
	print(&quot;name&quot;,name,&#x27;age&#x27;,age,&#x27;params&#x27;,params)
è°ƒç”¨ï¼š
1.student(&#x27;a&#x27;,12) è¾“å‡º  name a age 12 params {}
2.student(&#x27;b&#x27;,12,a=122,b=1223) è¾“å‡º name b age 12 params {&#x27;a&#x27;: 122, &#x27;b&#x27;: 1223}
3.student(1,2,**{&#x27;a&#x27;:2}) è¾“å‡º name 1 age 2 params {&#x27;a&#x27;: 2}
</code></pre>
<ul>
<li>4.å‘½ä»¤å…³é”®å­—å‚æ•°ï¼š <code>*,&lt;key1&gt;,&lt;key2&gt;</code> (PS:å¦‚æœå‰é¢æœ‰å¯å˜å‚æ•°ï¼Œå¯ä¸ç”¨åŠ <code>*,</code>)</li>
</ul>
<pre><code>def student(name,age,*,gender,city):
	print(&#x27;name&#x27;,name,&#x27;age&#x27;,age,gender,city)
è°ƒç”¨ï¼š
1.student(&#x27;a&#x27;,110) è¾“å‡º TypeError..
2.student(&#x27;a&#x27;,123,gender=&#x27;male&#x27;,city=&#x27;fz&#x27;) è¾“å‡º name 1 age 2 male fz
</code></pre>
<ul>
<li>5.å‚æ•°ç»„åˆï¼šé¡ºåº- å¿…é€‰å‚æ•°-&gt;é»˜è®¤å‚æ•°-&gt;å¯å˜å‚æ•°-&gt;å‘½ä»¤å…³é”®å­—å‚æ•°-&gt;å…³é”®å­—å‚æ•°</li>
</ul>
<pre><code>def s(a,b,c=0,*d,city,**kw):
	print(&#x27;a=&#x27;,a,&#x27;b=&#x27;,b,&#x27;c=&#x27;,c,&#x27;d=&#x27;,d,&#x27;city=&#x27;,city,&#x27;kw=&#x27;,kw)
è°ƒç”¨ï¼š
1.s(1,2,city=22)
è¾“å‡º a= 1 b= 2 c= 0 d= () city=22 kw= {}
2.s(1,2,3,4,5,city=22,a=1,b=2)	
è¾“å‡º a= 1 b= 2 c= 3 d= (4, 5) city= 22 kw= {&#x27;d&#x27;: 1, &#x27;e&#x27;: 2}
3.s(1,2,3,4,5) è¾“å‡ºTypeErrorï¼šmissing city
</code></pre>
</li>
</ul>
<h3 id="2-8gao-ji-te-xing">2.8é«˜çº§ç‰¹æ€§<a class="zola-anchor" href="#2-8gao-ji-te-xing" aria-label="Anchor link for: 2-8gao-ji-te-xing">ğŸ”—</a></h3>
<ul>
<li>1.åˆ‡ç‰‡(Slice)ï¼šå–æ•°ç»„å…ƒç´ çš„ç®€ä¾¿æ–¹å¼
<ul>
<li>é»˜è®¤æ˜¯ç´¢å¼•0å¼€å§‹å¹¶ä¸”é€’å¢é€Ÿåº¦1,å¯åå‘ç´¢å¼•</li>
<li><code>[0:3]</code>æˆ–<code>[:3]</code> å–æ•°ç»„ [0],[1],[2]</li>
<li><code>[-1:]</code> å–æ•°ç»„ [2]</li>
<li><code>[:]</code> å–å…¨éƒ¨</li>
<li><code>[::5]</code> åœ¨å…¨éƒ¨ä¸­ï¼Œæ¯ä¸ª5ä¸ªå–ä¸€ä¸ª</li>
<li><code>[:10:2]</code> åœ¨æ•°ç»„0~9çš„å…ƒç´ ä¸­æ¯éš”2ä¸ªå–ä¸€ä¸ª</li>
</ul>
</li>
<li>2.åˆ—è¡¨ç”Ÿæˆå¼ï¼šåˆ—è¡¨çš„æ¯ä¸ªå…ƒç´ è¿›è¡Œä¸€æ¬¡è¡¨è¾¾å¼è®¡ç®—
<ul>
<li>æ ¼å¼ï¼š <code>[&lt;å˜é‡çš„è¡¨è¾¾å¼&gt; for &lt;å˜é‡&gt; in &lt;åºåˆ—&gt;]</code></li>
</ul>
<pre><code>def L2(L):
	L2 = []
	for x in L:
		L2.append(x*x)
	return L2
è°ƒç”¨ï¼š [1,2,3] -&gt;[1,4,9]
1.sum2(list(range(1,4)))
2.åˆ—è¡¨ç”Ÿæˆå¼: [x*x for x in range(1,4)]
</code></pre>
</li>
<li>3.ç”Ÿæˆå™¨(Generator)ï¼šåŠ¨æ€ç”Ÿæˆåˆ—è¡¨çš„æ¯ä¸ªå…ƒç´ ï¼Œå¯é€šè¿‡<code>next(&lt;Generator&gt;)</code>è¿›è¡Œè®¿é—®
<ul>
<li>1.åˆ—è¡¨è¡¨è¾¾å¼æ”¹ä¸ºå°æ‹¬å· <code>(&lt;å˜é‡çš„è¡¨è¾¾å¼&gt; for &lt;å˜é‡&gt; in &lt;åºåˆ—&gt;)</code></li>
<li>2.è®¾ç½®å‡½æ•°ä¸­çš„<code>yield</code>ï¼Œå˜æˆä¸€ä¸ªGeneratorï¼Œå‡½æ•°æ¯æ¬¡è°ƒç”¨è¿”å›ä¸€ä¸ªæ–°çš„Generator</li>
<li><code>g.send(&lt;å‚æ•°&gt;)</code>:ä¼ å…¥å€¼ï¼Œå¹¶è°ƒç”¨<code>next(g)</code>,g=Generator</li>
<li>returnæ—¶ï¼ŒStopIteration</li>
</ul>
<pre><code>æ¨è¾‰ä¸‰è§’ï¼š C(n,i)=C(n-1,i-1)+C(n-1,i)
é€’å½’å…³ç³»å¼ (n&gt;1,1&lt;=i&lt;=n nè¡¨ç¤ºè¡Œ,iè¡¨ç¤ºç¬¬nè¡Œçš„ç¬¬iä¸ªæ•°) C(1,1)=1
	def triangles():
	L = [1]
	while True:
		yield L
		L = [sum(i) for i in zip([0]+L,L+[0])] #è¡¥[0]ä½œç”¨ï¼šè¡Œé¡¹+1ï¼Œæ¯ä¸ªé¡¹æ˜¯[n-1,n]é˜Ÿåˆ—
</code></pre>
</li>
</ul>
<h3 id="2-9-han-shu-shi-bian-cheng">2.9 å‡½æ•°å¼ç¼–ç¨‹<a class="zola-anchor" href="#2-9-han-shu-shi-bian-cheng" aria-label="Anchor link for: 2-9-han-shu-shi-bian-cheng">ğŸ”—</a></h3>
<ul>
<li>
<p>1.å®šä¹‰ï¼šä¸€ç§æŠ½è±¡ç¨‹åº¦å¾ˆé«˜çš„ç¨‹åºèŒƒå¼ï¼Œçº¯ç²¹çš„å‡½æ•°å¼ç¼–ç¨‹æ²¡æœ‰å˜é‡ã€‚ä»»æ„å‡½æ•°è¾“å…¥ç¡®å®šï¼Œé‚£ä¹ˆè¾“å‡º
ä¹Ÿç¡®å®šï¼Œç§°ä¸ºæ²¡æœ‰å‰¯ä½œç”¨ã€‚å¯¹äºæœ‰å˜é‡çš„ç›¸åŒè¾“å…¥ï¼Œå¯èƒ½æœ‰ä¸åŒè¾“å‡ºï¼Œç§°ä¸ºæœ‰å‰¯ä½œç”¨ã€‚</p>
</li>
<li>
<p>2.é«˜é˜¶å‡½æ•°ï¼š</p>
<ul>
<li>ç‰¹ç‚¹ï¼š
<ul>
<li>1.å…è®¸å‡½æ•°ä½œä¸ºä¸€ä¸ª<code>å˜é‡</code>ã€å‡½æ•°<code>è¿”å›å€¼</code>ã€‚</li>
<li>2.<code>å‡½æ•°åå˜é‡</code>ï¼šå‡½æ•°åä½œä¸ºå˜é‡</li>
<li>3.<code>å‡½æ•°å‚æ•°</code>ï¼šå¯æ¥æ”¶å¦ä¸€ä¸ªå‡½æ•°ä½œä¸ºå‚æ•°</li>
</ul>
</li>
<li>map/reduce
<ul>
<li><code>map(&lt;method_name&gt;,&lt;Iterable&gt;)</code>
<code>return &lt;Iterator&gt;ï¼Œéœ€è¦list(&lt;Iterator&gt;)å˜ä¸ºåˆ—è¡¨</code><br />
å…¶ä¸­<code>&lt;Iterable&gt;</code>çš„æ¯ä¸ªå…ƒç´ éƒ½è¢«<code>&lt;method_name&gt;</code>ä½œç”¨ä¸€æ¬¡</li>
<li><code>reduce(&lt;method_name&gt;,&lt;Iterable&gt;)</code>
<ul>
<li>1.éœ€è¦å¼•å…¥ <code>from functools import reduce</code></li>
<li>2.<code>&lt;method_name&gt;</code>éœ€è¦2ä¸ªå‚æ•°ï¼Œ
è¿”å›çš„å€¼ç»§ç»­å’Œ<code>&lt;Iterable&gt;</code>çš„ä¸‹ä¸€ä¸ªå€¼è¿›è¡Œå‡½æ•°è®¡ç®—</li>
</ul>
</li>
</ul>
</li>
<li>filterï¼š<code>filter(&lt;method_name&gt;,&lt;Iterable&gt;)</code>å’Œ<code>map</code>å‡½æ•°ç±»ä¼¼
ä¸åŒçš„æ˜¯<code>&lt;method_name&gt;</code>æ ¹æ®è¿”å›True/Falseï¼Œ<code>&lt;Iterable&gt;</code>è¿‡æ»¤Falseçš„item</li>
<li>sorted: <code>sorted(&lt;Iterable&gt;,**kw)</code>ï¼Œ<code>&lt;Iterable&gt;</code>è¿›è¡Œæ’åº
å…¶ä¸­<code>**kw</code>ï¼Œå¯é€‰æ‹©æ¥å— <code>key=&lt;method_name&gt;</code>(PS:abs,str.lower)è‡ªå®šä¹‰æ’åºï¼Œ
reverse=Trueåå‘æ’åº</li>
</ul>
</li>
<li>
<p>3.è¿”å›å‡½æ•°ï¼š</p>
<ul>
<li>è¿”å›å‡½æ•°ï¼Œéœ€è¦å˜é‡è¿›è¡Œå‡½æ•°è°ƒç”¨ï¼Œæ¯æ¬¡è°ƒç”¨è¿”å›æ–°çš„å‡½æ•°</li>
<li>é—­åŒ…ï¼šèƒ½å¤Ÿè¯»å–å‡½æ•°å†…éƒ¨å˜é‡çš„å‡½æ•°ï¼ˆå®šä¹‰åœ¨å‡½æ•°å†…éƒ¨çš„å‡½æ•°ï¼‰
<code>è¿”å›å‡½æ•°ä¸è¦å¼•ç”¨å¼•èµ·å˜åŒ–çš„å±€éƒ¨å˜é‡</code></li>
</ul>
</li>
<li>
<p>4.åŒ¿åå‡½æ•°ï¼š<code>lambda &lt;å˜é‡&gt;:&lt;è¡¨è¾¾å¼&gt;</code>åªæ˜¯ä¸ªè¡¨è¾¾å¼ï¼Œå¯è¢«å˜é‡å¼•ç”¨</p>
</li>
<li>
<p>5.è£…é¥°å™¨ï¼šåœ¨åŸæœ‰å‡½æ•°å®šä¹‰ä¸éœ€è¦æ”¹å˜ä¸‹ï¼Œå¢åŠ æ–°å†…å®¹å¹¶è¿”å›å‡½æ•°çš„å¼•ç”¨</p>
<ul>
<li><code>__name__</code>å‡½æ•°åç§°</li>
<li>1.<code>@</code> ä¿®é¥°ç¬¦</li>
</ul>
<pre><code>def log(f):
	@functools.wraps(f)
	def wrapper(*args,**kw):
		print(&#x27;wrapper %s func&#x27;%f.__name__)
		return f(*args,**kw)
	return wrapper
@log
def now():
	print(&#x27;now&#x27;)
å…¶ä¸­ï¼Œ@logä¿®é¥° ç­‰ä»·äº  now = log(now)
</code></pre>
<ul>
<li>2.åŸå§‹å‡½æ•°çš„ä¸€äº›å±æ€§å¤åˆ¶åˆ°è£…é¥°å™¨å‡½æ•°
<ul>
<li>import functools</li>
<li>@functools.wraps(&lt;func_params&gt;)</li>
</ul>
</li>
</ul>
</li>
<li>
<p>6.åå‡½æ•°ï¼š<code>functools.partial(&lt;method_name&gt;,*args,**kw)</code>
å…¶ä¸­*argsåœ¨å‰**kwåœ¨å</p>
<pre><code>import functools
int(&#x27;100&#x27;,2) è¾“å‡º4
int(&#x27;100&#x27;,base=2) è¾“å‡º4
int2 = functools.partial(int,base=2) #é»˜è®¤intå‡½æ•°æ˜¯10è¿›åˆ¶
int2(&#x27;100&#x27;)è¾“å‡º4
PS:
int2 = functools.partial(int,2)?
int2(&#x27;100&#x27;) è¾“å‡º TypeErrorï¼Œå› ä¸ºè°ƒç”¨int2(&#x27;100&#x27;) ç­‰ä»·äº int(2,&#x27;100&#x27;)
</code></pre>
<pre><code>functools.partialæºç 
def partial(func, *args, **keywords):
	def newfunc(*fargs, **fkeywords):
		newkeywords = keywords.copy()
        newkeywords.update(fkeywords)
        return func(*args, *fargs, **newkeywords)
    newfunc.func = func
    newfunc.args = args
    newfunc.keywords = keywords
    return newfunc
</code></pre>
</li>
</ul>
<h3 id="2-10-shi-yong-mo-kuai">2.10 ä½¿ç”¨æ¨¡å—<a class="zola-anchor" href="#2-10-shi-yong-mo-kuai" aria-label="Anchor link for: 2-10-shi-yong-mo-kuai">ğŸ”—</a></h3>
<ul>
<li>1.å¯¼å…¥æ¨¡å—: PS:import sys å°±å¯ä»¥ä½¿ç”¨syså˜é‡æ¥è®¿é—®æ¨¡å—å…¨éƒ¨å†…å®¹</li>
<li>2.æ¨¡å—å†…éƒ¨ï¼š
<ul>
<li>
<p>1.æ¨¡å—ç‰¹æ®Šå˜é‡<code>__name__</code>ï¼Œå½“è¿è¡Œå½“å‰æ¨¡å—æ–‡ä»¶<code>__name__</code> ==<code>__main__</code>æ˜¯Trueï¼Œå¦åˆ™False</p>
<pre><code>hello.py

def test():
	print(&quot;hello world&quot;)
if __name__ ==&#x27;__main__&#x27;
	test()
å½“ python hello.py
	è¾“å‡º hello world 
å½“ import hello å°†ä¸ä¼šæ‰§è¡Œ test()
</code></pre>
</li>
<li>
<p>2.ç±»ä¼¼<code>__xxx__</code>è¿™æ ·çš„å˜é‡æ˜¯ç‰¹æ®Šå˜é‡ï¼Œå¯ä»¥è¢«ç›´æ¥å¼•ç”¨ï¼Œä½†æ˜¯æœ‰ç‰¹æ®Šç”¨é€”</p>
</li>
<li>
<p>3.ç±»ä¼¼<code>_xxxå’Œ__xxx</code>è¿™æ ·çš„å˜é‡æˆ–å‡½æ•°å°±æ˜¯éå…¬å¼€çš„ï¼ˆprivate æ¨¡å—å†…éƒ¨ä½¿ç”¨ï¼‰,è§„å®šä¸èƒ½è®¿é—®</p>
</li>
<li>
<p>(åªæ˜¯å†…éƒ¨æ”¹å˜äº†å˜é‡å‘½ååç§°ï¼Œpythonæ— æ³•å®Œå…¨é™åˆ¶è®¿é—®)</p>
</li>
</ul>
</li>
<li>3.å®‰è£…ç¬¬ä¸‰æ–¹æ¨¡å—ï¼špip install &lt;module_name&gt;
<ul>
<li>æ·»åŠ æ¨¡å—æœç´¢è·¯å¾„</li>
</ul>
<pre><code>import sys
sys.path æŸ¥çœ‹æ¨¡å—
sys.path.append(&quot;è·¯å¾„&quot;)
</code></pre>
<ul>
<li>è®¾ç½®PYTHON_PATH</li>
</ul>
</li>
</ul>
<h3 id="2-11-mian-xiang-dui-xiang-bian-cheng">2.11 é¢å‘å¯¹è±¡ç¼–ç¨‹<a class="zola-anchor" href="#2-11-mian-xiang-dui-xiang-bian-cheng" aria-label="Anchor link for: 2-11-mian-xiang-dui-xiang-bian-cheng">ğŸ”—</a></h3>
<ul>
<li>1.ç±»å’Œå®ä¾‹
<ul>
<li>å®šä¹‰ï¼š <code>class &lt;class_name&gt;(object):</code> è¡¨ç¤º<code>&lt;class_name&gt;</code>ç»§æ‰¿è‡ªobject</li>
<li><code>__init__(self,params)</code> å¯¹è±¡åˆ›å»ºæ—¶ï¼Œå¦‚æœå¿…é¡»ä¼ é€’çš„å‚æ•°paramsï¼Œå¯ä»¥ä½¿ç”¨è¯¥æ–¹æ³•</li>
<li>ç±»çš„æ–¹æ³•ï¼Œç¬¬ä¸€ä¸ªå‚æ•°å›ºå®šæ˜¯selfï¼Œå…¶ä»–å’Œå‡½æ•°å®šä¹‰ä¸€æ ·</li>
</ul>
</li>
<li>2.è®¿é—®é™åˆ¶
<ul>
<li><code>__xx__</code>æ ‡è¯†ç‰¹æ®Šå˜é‡ï¼Œå¯ä»¥è®¿é—®</li>
<li><code>__xx</code>æ ‡è¯†å˜é‡ï¼Œè¡¨ç¤ºprivate,ä¸å…è®¸è®¿é—®</li>
<li><code>_xx</code>æ ‡è¯†å˜é‡ï¼Œçº¦å®šæˆä¿—ï¼Œè¡¨ç¤ºprivate
(åªæ˜¯pythonè§£é‡Šå™¨ä¼šæŠŠè¿™ç§å˜é‡è§£é‡Šæˆä¸ä¸€æ ·åç§°é˜²æ­¢å¤–éƒ¨ç›´æ¥è®¿é—®)</li>
</ul>
</li>
<li>3.ç»§æ‰¿å’Œå¤šæ€
<ul>
<li><code>class &lt;class_name&gt;(&lt;ç»§æ‰¿çš„ç±»&gt;)</code>ï¼Œç»§æ‰¿çˆ¶ç±»æ–¹æ³•å’Œçˆ¶ç±»ä¸­<code>__init__</code>æ–¹æ³•è®¾ç½®çš„å˜é‡ï¼Œè¦†å†™çˆ¶ç±»æ–¹æ³•
-<code>é¸­å­ç±»å‹</code>(file-like object),åªæœ‰å˜é‡å¯¹è±¡æœ‰è¿™ä¸ª<code>æ–¹æ³•</code>ã€<code>å˜é‡</code>å°±å¯ä»¥ï¼Œä¸ç®¡è¿™ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯å­ç±»</li>
</ul>
</li>
<li>4.è·å–å¯¹è±¡ä¿¡æ¯
<ul>
<li>
<p><code>type(&lt;å‚æ•°&gt;)</code>å‡½æ•°ï¼šè·å–<code>å‚æ•°</code>çš„ç±»å‹ã€‚</p>
</li>
<li>
<p><code>import types</code> å¯¼å…¥typesæ¨¡å—
ä¸€äº›ç±»å‹ï¼Œå¯è¿›è¡Œåˆ¤æ–­
<code>types.FunctionType</code>
<code>types.BuiltinFunctionType</code>
<code>types.LambdaType</code>
<code>types.GeneratorType</code></p>
</li>
<li>
<p><code>isinstance(å˜é‡,ç±»å‹)</code>ï¼Œå¯ç”¨äºåˆ¤æ–­è‡ªå®šä¹‰çš„ç±»ï¼Œæ–¹æ³•ç±»å‹
<code>isinstance(å˜é‡,(ç±»å‹1,ç±»å‹2))</code>,å¯ç”¨äºåˆ¤æ–­æ˜¯å¦æ˜¯<code>ç±»å‹1</code>ï¼Œ<code>ç±»å‹2</code>ä¹‹ä¸€</p>
</li>
<li>
<p><code>dir(&lt;å¯¹è±¡å®ä¾‹&gt;)</code>,è·å–å¯¹è±¡æ‰€æœ‰å±æ€§å’Œæ–¹æ³•</p>
<ul>
<li><code>len('ABC')ç­‰ä»·äº'ABC'.__len__()</code></li>
<li><code>hasattr(&lt;å¯¹è±¡å®ä¾‹&gt;,&lt;å±æ€§&gt;)</code>,åˆ¤æ–­æ˜¯å¦å­˜åœ¨è¿™ä¸ª<code>&lt;å±æ€§&gt;</code></li>
<li><code>setattr(&lt;å¯¹è±¡å®ä¾‹&gt;,&lt;å±æ€§&gt;,[å±æ€§é»˜è®¤å€¼])</code>,è®¾ç½®<code>&lt;å±æ€§&gt;</code>å€¼</li>
<li><code>getattr(&lt;å¯¹è±¡å®ä¾‹&gt;,&lt;å±æ€§&gt;)</code>,è·å–<code>&lt;å±æ€§&gt;</code></li>
</ul>
</li>
<li>
<p>ç±»å±æ€§å’Œå®ä¾‹å±æ€§</p>
</li>
</ul>
<pre><code>class A(object):
	name = &#x27;A&#x27; #ç±»å±æ€§ï¼Œç›´æ¥é€šè¿‡ A.nameè®¿é—®
	def __init__(self,a):
	 	self.a =a #å®ä¾‹å±æ€§
</code></pre>
</li>
</ul>
<h3 id="2-12-mian-xiang-dui-xiang-gao-ji-bian-cheng">2.12 é¢å‘å¯¹è±¡é«˜çº§ç¼–ç¨‹<a class="zola-anchor" href="#2-12-mian-xiang-dui-xiang-gao-ji-bian-cheng" aria-label="Anchor link for: 2-12-mian-xiang-dui-xiang-gao-ji-bian-cheng">ğŸ”—</a></h3>
<ul>
<li>
<p>1.åŠ¨æ€ç»‘å®š<code>å˜é‡</code>å’Œ<code>æ–¹æ³•</code></p>
<pre><code>from types import MethodType 
def hao():
	print(&#x27;hh&#x27;)
class A(object):
	pass
a = A()
a.name=&#x27;aa&#x27; #åŠ¨æ€ç»‘å®šå˜é‡ï¼Œåªä½œç”¨å½“å‰å®ä¾‹
a.hao=MethodType(hao,a) #åŠ¨æ€ç»‘å®šæ–¹æ³•ï¼Œåªä½œç”¨å½“å‰å®ä¾‹
A.hao=hao #ç±»çš„æ‰€æœ‰å®ä¾‹ç»‘å®šæ–¹æ³•
print(a.name)
</code></pre>
</li>
<li>
<p>2.ä½¿ç”¨<code>__slots__</code> é™åˆ¶å®ä¾‹ç»‘å®šçš„å±æ€§</p>
<pre><code>class A(object):
	__slots__=(&#x27;name&#x27;,&#x27;age&#x27;) #tupleç±»å‹ï¼Œè¡¨ç¤ºåªå…è®¸æ·»åŠ nameå’Œageçš„å±æ€§
class A2(A):
	pass
a = A()
a.name=&#x27;a&#x27;
a.age=&#x27;b&#x27;
a.sc=&#x27;c&#x27;#AttributeError
a = A2()
a.sc = &#x27;c&#x27; #å­ç±»ï¼Œä¸å—å½±å“
#å¦‚æœA2å¢åŠ `__slots__=(&#x27;sc&#x27;)`é‚£ä¹ˆA2å°†é™åˆ¶åŒ…æ‹¬çˆ¶ç±»çš„name,ageå’Œscï¼Œ3ä¸ªå±æ€§
</code></pre>
</li>
<li>
<p>3.<code>@property</code>ï¼Œä¿®é¥°ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºå±æ€§ç›´æ¥å¯è¯»æ“ä½œï¼Œ
å¹¶ä¸”ç”Ÿæˆ<code>@&lt;æ–¹æ³•å&gt;.setter</code>è¿›è¡Œç›´æ¥å¯å†™æ“ä½œã€‚
åœ¨ä¸ç”¨è°ƒç”¨(set/get)æ–¹æ³•ä¸‹ï¼Œç›´æ¥æ“ä½œå±æ€§å¹¶è¿›è¡Œæ£€æŸ¥åˆ¤æ–­ã€‚ï¼ˆç­‰ä»·äºåŠ¨æ€ç»‘å®šå±æ€§+å±æ€§æ£€æŸ¥ï¼‰</p>
<pre><code>class A(object):

	@property
	def score(self):
		return self.__score
	@score.setter
	def score(self,value):
		if not (isinstance(value,int)):
			raise ValueError(&#x27;score must be an integer!&#x27;)
		if (value&lt;0 or value&gt;100):
			raise ValueError(&#x27;score between 0 and 100!&#x27;)
		self.__score=value
#å¯ä»¥é€šè¿‡ç›´æ¥è®¿é—®æ–¹å¼
a = A();
a.score=10
print(a.score)
a.score=101 #ValueError
</code></pre>
</li>
<li>
<p>4.å¤šé‡ç»§æ‰¿</p>
<ul>
<li>MixInï¼šä¸€ä¸ªç±»å®ç°å¤šä¸ªåŠŸèƒ½ï¼Œå¯é€šè¿‡å¤šç»§æ‰¿æ–¹å¼</li>
</ul>
<pre><code>class A(object):
	def run(self):
		print(&#x27;A&#x27;)
	def run1(self):
		print(&#x27;run1() A&#x27;)
class B(object):
	def run(self):
		print(&#x27;B&#x27;)
class C(B,A):
	pass
#æ‰§è¡Œ
a = C()
a.run()
a.run1()
</code></pre>
</li>
<li>
<p>5.å®šåˆ¶ç±»ï¼Œç±»ä¸­ç‰¹æ®Šå‡½æ•°è¦†å†™</p>
<ul>
<li><code>__str__</code>: print(&lt;ç±»å¯¹è±¡&gt;)ä¸­æ‰“å°çš„å†…å®¹</li>
<li><code>__repr__</code>: æ‰“å°ç±»å¯¹è±¡çš„å†…å®¹</li>
<li><code>__iter__</code>:è®¾ç½®ä¸ºè¿­ä»£å¯¹è±¡ç”¨äº<code>for ... inå¾ªç¯</code>ï¼Œå®ç°<code>__next__</code>æ–¹æ³•</li>
<li><code>__getitem__</code>:è·Ÿè·å–æ•°ç»„ä¸‹æ ‡ä¸€æ ·è·å–æ•°æ®é¡¹ï¼Œ<code>&lt;ç±»å¯¹è±¡&gt;[0]ã€&lt;ç±»å¯¹è±¡&gt;[1]</code>
<ul>
<li><code>&lt;ç±»å¯¹è±¡&gt;[:]ã€&lt;ç±»å¯¹è±¡&gt;[:2]</code>ä¹Ÿå¯ä»¥åˆ‡ç‰‡å¯¹è±¡ï¼Œ
é‚£ä¹ˆéœ€è¦åˆ¤æ–­å¤„ç†<code>isinstance(&lt;å˜é‡&gt;,slice)</code></li>
</ul>
</li>
<li><code>__getattr__</code>:è¦†å†™ï¼Œé‚£ä¹ˆpyä¼šå…ˆæ ¹æ®è¿™ä¸ªæ–¹æ³•å°è¯•è·å–å±æ€§</li>
<li><code>__call__</code>:ç±»å¯¹è±¡å¯ä»¥ä½œä¸ºå‡½æ•°è°ƒç”¨ä½¿ç”¨ï¼Œ(PS: sæ˜¯ç±»å¯¹è±¡ï¼Œé‚£ä¹ˆå¯ä»¥s()è¿›è¡Œè°ƒç”¨)
<ul>
<li><code>callable(&lt;ç±»å®ä¾‹&gt;)</code>ï¼šåˆ¤æ–­ç±»å¯¹è±¡æ˜¯å¦ä½œä¸º<code>å¯è°ƒç”¨çš„å‡½æ•°</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p>6.æšä¸¾ç±»</p>
<ul>
<li>å®šä¹‰ï¼š
<code>from enum import Enum</code>
ç´¢å¼•å¼•ç”¨[]ä»1å¼€å§‹</li>
<li><code>Enum(&lt;æšä¸¾ç±»å‹åç§°&gt;,(&lt;æšä¸¾1&gt;,&lt;æšä¸¾2&gt;))</code></li>
<li><code>class A(Enum):</code> æšä¸¾è‡ªå®šä¹‰æ´¾ç”Ÿç±»</li>
</ul>
<pre><code>from enum import Enum
w = Enum(&#x27;weekly&#x27;,(&#x27;Sun&#x27;,&#x27;Mon&#x27;,&#x27;Tue&#x27;,&#x27;Wed&#x27;,&#x27;Thu&#x27;,&#x27;Fri&#x27;,&#x27;Sat&#x27;))
w(1) #è¾“å‡º &lt;weekly.Sun:1&gt;
w(1).name #è¾“å‡º&#x27;Sun&#x27;
w(1).value #è¾“å‡º1

from enum import unique
@unique #é˜²æ­¢é‡å¤å€¼	
class A(Enum):
	Sun=0 
	Mon=1
	Tue=2
	Wed=3
	Thu=4
	Fri=5
	Sat=6
A.Sun.name #è¾“å‡º&#x27;Sun&#x27;
A.Sun.value #è¾“å‡º0
</code></pre>
</li>
<li>
<p>7.ä½¿ç”¨å…ƒç±»</p>
<ul>
<li><code>type(&lt;ç±»å&gt;,(&lt;çˆ¶ç±»&gt;,[&lt;çˆ¶ç±»&gt; 0~nä¸ª]),dict(&lt;æ–¹æ³•å&gt;=&lt;ç»‘å®šçš„æ–¹æ³•&gt;))</code>ï¼šåŠ¨æ€ç”Ÿæˆclassç±»</li>
<li>metaclass
<ul>
<li>ä½¿ç”¨ï¼š<code>class &lt;ç±»å&gt;(&lt;çˆ¶ç±»&gt;,metaclass=&lt;metaclassç±»&gt;)</code>
å…¶ä¸­metaclass=<code>&lt;metaclassç±»&gt;</code>ï¼Œç”¨äºç”Ÿæˆ&lt;ç±»å&gt;å®ä¾‹
metaclassç±»
1.ç»§æ‰¿è‡ª<code>type</code>
2.å®ç°<code>__new__(cls, name, bases, attrs)</code>æ–¹æ³•å®ç°åˆ›å»ºæ–°çš„å®ä¾‹
clsï¼š&lt;metaclassç±»&gt;
name:åˆ›å»ºç±»çš„åå­—
base:åˆ›å»ºç±»ç»§æ‰¿çš„çˆ¶ç±»é›†åˆ
attr:åˆ›å»ºç±»çš„å±æ€§/æ–¹æ³•é›†åˆ</li>
</ul>
<pre><code>class Model(type):
	def __new__(cls,name,base,attr):
		print(attr)
		attr[&#x27;ok&#x27;]=&#x27;model gen ok&#x27; #æ·»åŠ å±æ€§
		attr[&#x27;add&#x27;]=lambda self,value: self.append(value) #æ·»åŠ æ–¹æ³•
		print(attr)
		return type.__new__(cls,name,base,attr)

class Test(list,metaclass=Model):
	pass

if(__name__==&#x27;__main__&#x27;):
	a = Test()
	print(a.ok)
	a.add(1)
	print(a)

</code></pre>
</li>
</ul>
</li>
<li>
<p>8.<code>super(&lt;class_type&gt;,&lt;class_instance&gt;)</code>è°ƒç”¨çˆ¶ç±»å‡½æ•°
æŒ‰ç…§ç»§æ‰¿æ–¹æ³•çš„é¡ºåºè°ƒç”¨ï¼Œç§°ä¸ºMRO(Method Resolution Order)</p>
<pre><code>class A(object):
	super(A,self).__init__():
	print(&#x27;A&#x27;)
class B(object):
	super(B,self).__init__():
	print(&#x27;B&#x27;)
class C(A,B):
	super(C,self).__init__():
	print(&#x27;C&#x27;)
C.mro() # &lt;class C&gt;,&lt;class A&gt;,&lt;class B&gt;
C() 
#è¾“å‡º B A C
#C()
#å¼€å§‹ä»Cè°ƒç”¨super()â€”&gt;
#ä¸‹ä¸€ä¸ªæŒ‡å‘A,åœ¨Aä¸­è°ƒç”¨super()-&gt;
#ä¸‹ä¸€ä¸ªæŒ‡å‘B,åœ¨Bä¸­è°ƒç”¨super()æ˜¯object
#æœ€åï¼Œæ‰“å°B-&gt;æ‰“å°A-&gt;æ‰“å°C 
</code></pre>
</li>
<li>
<p>9.é™æ€æ–¹æ³•ã€ç±»æ–¹æ³•ã€å®ä¾‹æ–¹æ³•</p>
<ul>
<li><code>@staticmethod</code> é™æ€æ–¹æ³• (ç±»/å®ä¾‹)è®¿é—®ï¼Œä¸ç”¨å†™é»˜è®¤å‚æ•°self,ä¸èƒ½è°ƒç”¨å®ä¾‹å˜é‡ã€ç±»å˜é‡ç­‰</li>
<li><code>@classmethod</code>ç±»æ–¹æ³•ï¼Œ(ç±»/å®ä¾‹)è®¿é—®ï¼Œéœ€è¦æœ‰é»˜è®¤å‚æ•°selfï¼Œä¸èƒ½è°ƒç”¨å®ä¾‹å˜é‡ã€‚</li>
<li>å®ä¾‹æ–¹æ³•ï¼Œå®ä¾‹è®¿é—®ï¼Œéœ€è¦æœ‰é»˜è®¤å‚æ•°self</li>
</ul>
</li>
</ul>
<h3 id="2-13-cuo-wu-diao-shi-he-ce-shi">2.13 é”™è¯¯ã€è°ƒè¯•å’Œæµ‹è¯•<a class="zola-anchor" href="#2-13-cuo-wu-diao-shi-he-ce-shi" aria-label="Anchor link for: 2-13-cuo-wu-diao-shi-he-ce-shi">ğŸ”—</a></h3>
<ul>
<li>1.å¼‚å¸¸æ•è·
<ul>
<li><code>try...except...as e ... finally...</code></li>
</ul>
<pre><code>try: 
&lt;æ‰§è¡Œ&gt;
except &lt;å¼‚å¸¸ç±»&gt; as e:
	&lt;æ‰§è¡Œ&gt;
finally:
	&lt;æ‰§è¡Œ&gt;
</code></pre>
<ul>
<li><code>logging</code> è®°å½•é”™è¯¯</li>
<li><code>raise</code> æŠ›å‡ºé”™è¯¯</li>
</ul>
</li>
<li>2.æ—¥å¿—è¾“å‡º
<ul>
<li><code>assert</code>ä»£æ›¿print
ä½¿ç”¨<code>python -O &lt;æ–‡ä»¶å&gt;.py</code>å…¶ä¸­ -Oå¤§å†™å­—æ¯Oè¡¨ç¤ºå…³é—­æ–­è¨€
é‚£ä¹ˆ,<code>assert</code>å°†ä¼šè¢«<code>pass</code>ä»£æ›¿</li>
<li><code>logging</code> å’Œandroid logcatç±»ä¼¼</li>
</ul>
<pre><code>import logging 
logging.basicConfig(level=logging.INFO) #æ·»åŠ loggingæ˜¾ç¤ºç­‰çº§
</code></pre>
</li>
<li>3.å•æ­¥è°ƒè¯•<code>pdb</code>ï¼špython -m pdb xxx.py</li>
<li>4.å•å…ƒæµ‹è¯• import <code>unittest</code>æ¨¡å—</li>
<li>5.æ–‡æ¡£æµ‹è¯• import <code>re</code>æ¨¡å—</li>
</ul>
<h3 id="2-14-iobian-cheng">2.14 IOç¼–ç¨‹<a class="zola-anchor" href="#2-14-iobian-cheng" aria-label="Anchor link for: 2-14-iobian-cheng">ğŸ”—</a></h3>
<ul>
<li>
<p>1.æ–‡ä»¶è¯»å†™</p>
<ul>
<li>1.è·å–æ–‡ä»¶å¯¹è±¡ <code>open(&lt;è·¯å¾„&gt;,'r')</code> è·å–æ–‡ä»¶å¯¹è±¡ï¼Œæ ‡è¯†ç¬¦r=è¯»ï¼Œw=å†™ é»˜è®¤è¯»å–æ–‡æœ¬æ–‡ä»¶</li>
<li>2.è¯»å–æ–‡ä»¶
<ul>
<li><code>read()</code>ä¸€æ¬¡æ€§è¯»å–æ–‡ä»¶å†…å®¹</li>
<li><code>read(size)</code>åå¤è°ƒç”¨è¯»å–</li>
<li><code>readlines()</code>è¯»å–ä¸€è¡Œ</li>
</ul>
</li>
<li>3.å…³é—­æ–‡ä»¶
<ul>
<li><code>close()</code></li>
<li><code>with open(&lt;è·¯å¾„&gt;,'r') as f: print(f.read())</code>ä¼šè‡ªåŠ¨è°ƒç”¨close()ï¼Œä¸ç”¨è‡ªå·±è°ƒç”¨</li>
</ul>
</li>
<li>äºŒè¿›åˆ¶æ–‡ä»¶<code>rb</code> æ ‡è¯†ç¬¦è¡¨ç¤º</li>
<li>å­—ç¬¦ç¼–ç ï¼Œè¯»å–éUTF-8æ–‡ä»¶<code>open(&lt;è·¯å¾„&gt;,'r',encoding='gbk',error='ignore')</code>
error='ignore'ç”¨äºè¯»å–ç¼–ç é”™è¯¯æ—¶ï¼Œå¿½ç•¥å¤„ç†</li>
<li>4.å†™æ–‡ä»¶
<ul>
<li>æ ‡è¯†ç¬¦ï¼š<code>w</code>å†™æ–‡æœ¬æ–‡ä»¶ï¼Œ<code>wb</code>å†™äºŒè¿›åˆ¶æ–‡ä»¶ <code>wa</code>(append)è¿½åŠ å½¢å¼å†™å…¥(å…¶ä»–æ˜¯è¦†ç›–æ–¹å¼)</li>
<li><code>write()</code></li>
<li><code>close()</code>å†™å®Œéœ€è¦å…³é—­ï¼Œä¹Ÿå¯ä»¥ç”¨<code>with open(...) as f:</code>æ–¹å¼è‡ªåŠ¨å…³é—­</li>
</ul>
</li>
</ul>
</li>
<li>
<p>2.StringIOå’ŒBytesIO</p>
<ul>
<li>1.StringIO</li>
</ul>
<pre><code>from io import StringIO
f = StringIO() #å†…å­˜ä¸­å­—ç¬¦æ“ä½œ
f.write(&#x27;hello &#x27;)
f.write(&#x27;world&#x27;)
f.getValue()# &#x27;hello world&#x27;
while True:
	s = f.readlines()
	if(s==&#x27; &#x27;):
		break
	print(s.strip())#strip()å»æ‰ç©ºæ ¼
</code></pre>
<ul>
<li>2.BytesIO</li>
</ul>
<pre><code>from io import BytesIO
f = BytesIO()
f = BytesIO(b&#x27;\xe5\xad\x97\xe8\x8a\x82&#x27;)
f.write(&#x27;å­—èŠ‚&#x27;.encode(&#x27;utf-8&#x27;))#å†™å…¥utf-8ç¼–ç çš„å­—èŠ‚
f.close()
f.read()
</code></pre>
</li>
<li>
<p>3.osæ¨¡å—(ç³»ç»Ÿä¿¡æ¯ï¼Œåˆ›å»ºç›®å½•)</p>
<ul>
<li><code>import os</code>
<code>os.name</code> posixè¡¨ç¤ºç±»Unitç³»ç»Ÿ(Linuxã€Unixã€Mac OS),ntè¡¨ç¤ºwindows
<code>os.uname()</code> posixä¸Šæä¾›æ˜¾ç¤ºç³»ç»Ÿä¿¡æ¯
<code>os.environ()</code>ç¯å¢ƒå˜é‡
<code>os.environ().get(</code>PATH<code>)</code> æŸä¸ªç¯å¢ƒå˜é‡
<code>os.path.abspath('.')</code> å½“å‰ç›®å½•ç»å¯¹è·¯å¾„
<code>os.path.join('/User','deskDir')</code> ç›®å½•ä¸‹åˆ›å»ºæ–°ç›®å½•
<code>os.path.isdir('x')</code>æ˜¯å¦ç›®å½•
<code>os.path.isfile('x')</code>æ˜¯å¦æ–‡ä»¶
<code>os.mkdir('/User/deskDir')</code>åˆ›å»ºæ–°ç›®å½•
<code>os.rmdir('/User/deskDir')</code>åˆ é™¤ç›®å½•
<code>os.path.split('/User/deskDir')</code>ç›®å½•å’Œæœ€åä¸€ä¸ª<code>/</code>çš„å†…å®¹åˆ†ç¦»
<code>os.path.splitext('/User/deskDir')</code>ç›®å½•å’Œ<code>æ–‡ä»¶æ‰©å±•å</code>åˆ†ç¦»
<code>os.rename('file.txt','newfile.txt')</code>æ–‡ä»¶é‡å‘½å
<code>os.remove('file.txt')</code>åˆ é™¤æ–‡ä»¶</li>
</ul>
<pre><code>[x for x in os.listdir(&#x27;.&#x27;) if os.path.isfile(x)]#è¿‡æ»¤æ‰éæ–‡ä»¶å†…å®¹
</code></pre>
<ul>
<li>shutilæ¨¡å— æœ‰æä¾›æ–‡ä»¶å¤åˆ¶å‡½æ•°</li>
</ul>
</li>
<li>
<p>4.åºåˆ—åŒ–</p>
<ul>
<li>pickleæ¨¡å—ï¼Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–</li>
</ul>
<pre><code>import pickle
d = [1,2,3]
#åºåˆ—åŒ–
b=pickle.dumps(d) #ç”Ÿæˆåºåˆ—åŒ–bytes
f = open(&#x27;file.txt&#x27;,&#x27;wb&#x27;)
pickle.dump(f,b) #ç”Ÿæˆåºåˆ—åŒ–bytesï¼Œå¹¶å†™å…¥åˆ°æ–‡ä»¶
f.close()
#ååºåˆ—åŒ–
f.open(&#x27;file.txt&#x27;,&#x27;rb&#x27;)
pickle.loads(b) #ååºåˆ—åŒ–bytes
pickle.load(f) #ååºåˆ—åŒ–æ–‡ä»¶å†…å®¹
f.close()
</code></pre>
<ul>
<li>JSON</li>
</ul>
<pre><code>{}  		&lt;--&gt;  dict
[]  		&lt;--&gt;  list
&quot;string&quot;  	&lt;--&gt;  str
1234.56  	&lt;--&gt;  intæˆ–float
true&#x2F;false  &lt;--&gt;  True&#x2F;False
null 		&lt;--&gt;  None

import json
d = dict(&#x27;name&#x27;:&#x27;n&#x27;,&#x27;age&#x27;:12)
j = json.dumps(d) #è¿”å›json
json.loads(j) #jsonè½¬ä¸ºç±»å‹
</code></pre>
<ul>
<li>classå¯¹è±¡ jsonå’Œåjson
<code>json.dumps(&lt;classå¯¹è±¡&gt;,default=&lt;è½¬æ¢å‡½æ•°&gt;)</code> è½¬json
<code>json.loads(&lt;jsonæ•°æ®&gt;,object_hook=&lt;è½¬æ¢å‡½æ•°&gt;)</code> åjson</li>
</ul>
<pre><code>import json
def student2dict(stu):
	return {&#x27;name&#x27;:stu.name,&#x27;age&#x27;:stu.age}
def dict2student(d):
	return Student(d[&#x27;name&#x27;],d[&#x27;age&#x27;])
s = Student(&#x27;a&#x27;,22)
j = json.dumps(s,default=&#x27;student2dict&#x27;) #classå¯¹è±¡è½¬json
json.loads(j,object_hook=dict2student) #json-&gt;dictå¯¹è±¡-&gt;è½¬studentå¯¹è±¡
</code></pre>
</li>
<li>
<p>5.è¿›ç¨‹å’Œçº¿ç¨‹</p>
<ul>
<li>
<p>å¤šè¿›ç¨‹</p>
<ul>
<li><code>fork()</code>åœ¨ç±»Unixtç³»ç»Ÿä¸­ï¼Œè°ƒç”¨1æ¬¡è¿”å›2æ¬¡ï¼Œåˆ†åˆ«æ˜¯çˆ¶è¿›ç¨‹è¿”å›å’Œå­è¿›ç¨‹è¿”å›ã€‚</li>
<li><code>getpid()</code>å½“å‰è¿›ç¨‹id</li>
<li><code>getppid()</code>è·å¾—çˆ¶è¿›ç¨‹id
å­è¿›ç¨‹è¿”å›0
çˆ¶è¿›ç¨‹è¿”å›å­è¿›ç¨‹id</li>
</ul>
<pre><code>import os
pid = os.fork() #Windowsæ²¡æœ‰forkè°ƒç”¨
if pid == 0 : #å­è¿›ç¨‹
if not pid ==0 : #çˆ¶è¿›ç¨‹
</code></pre>
<ul>
<li>multiprocessing è·¨å¹³å°å¤šè¿›ç¨‹æ¨¡å—</li>
</ul>
<pre><code>from multiprocessing import Process
import os 
def run_child_proc(name):
	print(&#x27;name %s&#x27;%name)
if(__name__==&#x27;__main__&#x27;):
	#å­è¿›ç¨‹æ‰§è¡Œå‡½æ•°run_child_proc,argsæ˜¯dictç±»å‹æ‰€ä»¥åŠ ,
	p = Process(target=run_child_proc,args=(&#x27;test&#x27;,)) #åˆ›å»ºè¿›ç¨‹
	p.start() #å­è¿›ç¨‹å¼€å§‹å¯åŠ¨
	p.join() #ç­‰å¾…å­è¿›ç¨‹pæ‰§è¡Œå®Œæˆåï¼Œç”¨äºè¿›ç¨‹åè°ƒåŒæ­¥
	print(&#x27;child proc closed&#x27;)
</code></pre>
<ul>
<li>Pool å¤šè¿›ç¨‹</li>
</ul>
<pre><code>from multiprocessing import Pool
import os,time
def run_child_proc(name):
	time.sleep(1 * 1)
	print(&#x27;child proc name %s&#x27;%name,&#x27; pid:&#x27;,os.getpid())

if(__name__==&#x27;__main__&#x27;):
	print(&#x27;parent Process pid = %s&#x27;%os.getpid())
	p = Pool(3)
	for i in range(3):
		p.apply_async(run_child_proc,(i,))#å¤šè¿›ç¨‹å¼‚æ­¥æ‰§è¡Œ,è¿›ç¨‹æ± é™åˆ¶3ä¸ªè¿›ç¨‹ é»˜è®¤4ä¸ª
	print(&#x27;Wait&#x27;)
	p.close() #ä¸å…è®¸æ·»åŠ æ–°çš„è¿›ç¨‹
	p.join() #ç­‰å¾…è¿›ç¨‹å…¨éƒ¨æ‰§è¡Œå®Œæˆ
	print(&#x27; All child proc closed! &#x27;)
</code></pre>
<ul>
<li>å­è¿›ç¨‹<code>subprocess</code>æ¨¡å—</li>
<li>è¿›ç¨‹é—´é€šä¿¡é€šè¿‡Queueã€Pipeså®ç°</li>
</ul>
</li>
<li>
<p>å¤šçº¿ç¨‹</p>
<ul>
<li><code>_thread</code>å’Œ<code>threading</code>æ¨¡å—</li>
</ul>
<pre><code>import threading

def new_thread_run():
	print(&#x27;threading:%s&#x27;%threading.current_thread().name)
print(&#x27;main thread:%s&#x27;%threading.current_thread().name)
#ä¸è¦nameï¼Œpyä¼šè‡ªåŠ¨èµ·åå­—
t = threading.Thread(target=new_thread_run,name=&#x27;new_thread&#x27;)
t.start()
t.join()
print(&#x27;main thread:%s closed!&#x27;%threading.current_thread().name)
</code></pre>
<ul>
<li>Lock çº¿ç¨‹ä¸Šé”</li>
</ul>
<pre><code>import threading,time
value=0
lock = threading.Lock() #è·å¾—é”å¯¹è±¡
def changeValue():
	global value
	value=value+1
	time.sleep(0.0001)
	value=value-1

def new_thread_run():
	lock.acquire() #è·å–é”
	for i in range(1000):
		changeValue()
	print(threading.current_thread().name,&#x27;value&#x27;,value)
	lock.release() #é‡Šæ”¾é”
t1 = threading.Thread(target=new_thread_run)
t2 = threading.Thread(target=new_thread_run)
t1.start()
t2.start()
t1.join()
t2.join()
print(threading.current_thread().name,&#x27;value&#x27;,value)
print(&#x27;main thread closed !&#x27;)
</code></pre>
</li>
<li>
<p>ThreadLocal:æ¯ä¸ªçº¿ç¨‹å•ç‹¬å­˜å‚¨çº¿ç¨‹å†…éƒ¨ä½¿ç”¨çš„å˜é‡</p>
</li>
</ul>
<pre><code>import threading

global_local = threading.local() #çº¿ç¨‹æœ¬åœ°å˜é‡
def process_t():
	print(&#x27;thead: %s tag:%s&#x27;%(threading.current_thread().name,global_local.tag))
def new_thread_run(tag):
	global_local.tag = tag
	process_t()
t1 = threading.Thread(target=new_thread_run,args=(&#x27;OK&#x27;,))
t2 = threading.Thread(target=new_thread_run,args=(&#x27;HAO&#x27;,))
t1.start()
t2.start()
t1.join()
t2.join()
print(&#x27;main thread closed !&#x27;)
	
</code></pre>
<pre><code>  - å¤šä»»åŠ¡æ¨¡å‹ï¼Œåˆ‡æ¢ä½œä¸šæœ‰ä»£ä»·ï¼Œå°±æ˜¯ä¿å­˜&#x2F;æ¢å¤ç°åœº
  - Nginx æ”¯æŒå¼‚æ­¥IOçš„WebæœåŠ¡å™¨
  - åç¨‹ï¼šPythonè¯­è¨€ä¸­ï¼Œå•çº¿ç¨‹çš„å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹
</code></pre>
<ul>
<li>åˆ†å¸ƒå¼è¿›ç¨‹:<code>multiprocessing</code>çš„å­æ¨¡å—<code>managers</code>æ”¯æŒ</li>
</ul>
</li>
</ul>
<h3 id="2-15-zheng-ze-biao-da-shi">2.15 æ­£åˆ™è¡¨è¾¾å¼<a class="zola-anchor" href="#2-15-zheng-ze-biao-da-shi" aria-label="Anchor link for: 2-15-zheng-ze-biao-da-shi">ğŸ”—</a></h3>
<ul>
<li><code>import re</code>ï¼šå¯¼å…¥<code>re</code>æ¨¡å—</li>
<li><code>r</code>ï¼šæ­£åˆ™è¡¨è¾¾å¼å‰é¢åŠ <code>r</code>å¿½ç•¥pythonä¸­å­—ç¬¦ä¸²çš„è½¬ä¹‰(PS:<code>\\</code>== r<code>\</code>ï¼Œå­—ç¬¦ä¸²ä¸­è¾“å…¥<code>\</code>è¦è½¬ä¹‰)</li>
<li><code>re.match(&lt;æ­£åˆ™è¡¨è¾¾å¼&gt;,&lt;éœ€è¦åŒ¹é…çš„å­—ç¬¦ä¸²&gt;)</code>ï¼šåŒ¹é…</li>
<li><code>re.compile(&lt;æ­£åˆ™è¡¨è¾¾å¼&gt;)</code>ï¼šé¢„ç¼–è¯‘</li>
<li><code>groups()</code>è·å¾—æ‰€æœ‰åŒ¹é…çš„ç»„</li>
<li><code>group(0)</code>é»˜è®¤åŒ¹é…çš„ç»„</li>
<li><code>group(1)ï¼Œgroup(2)</code>è¡¨ç¤ºè¦æå–çš„ç»„1,2 æ­£åˆ™è¡¨è¾¾å¼ä¸­ç”¨<code>()</code>è¡¨ç¤ºæå–</li>
<li>æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…è¿‡ç¨‹(å¯¹äºç»å¸¸åŒ¹é…çš„ï¼Œé¢„ç¼–è¯‘å¯ä»¥æé«˜æ•ˆç‡)
<ul>
<li>1.ç¼–è¯‘æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¦‚æœæ­£åˆ™è¡¨è¾¾å¼ä¸åˆæ³•ï¼ŒæŠ¥é”™ã€‚</li>
<li>2.ç”¨ç¼–è¯‘åçš„æ­£åˆ™è¡¨è¾¾å¼å»åŒ¹é…å­—ç¬¦ä¸²</li>
</ul>
</li>
</ul>
<h3 id="2-16-nei-jian-mo-kuai">2.16 å†…å»ºæ¨¡å—<a class="zola-anchor" href="#2-16-nei-jian-mo-kuai" aria-label="Anchor link for: 2-16-nei-jian-mo-kuai">ğŸ”—</a></h3>
<ul>
<li>1.<code>datetime</code> å¤„ç†æ—¥æœŸå’Œæ—¶é—´æ ‡å‡†åº“
<ul>
<li><code>from datetime import datetime</code>: datetime.now()è·å–ç°åœ¨æ—¶é—´</li>
<li><code>import datetime</code>: datetime.datetime.now()è·å–ç°åœ¨æ—¶é—´</li>
</ul>
</li>
<li>2.<code>collections</code> é›†åˆæ ‡å‡†åº“</li>
<li>3.<code>base64</code></li>
<li>4.<code>struct</code> è§£å†³byteså’Œå…¶ä»–æ•°æ®ç±»å‹è½¬æ¢çš„åº“</li>
<li>5.<code>hashlib</code> æ‘˜è¦ç®—æ³•åº“(MD5,SHA1)ï¼Œç”Ÿæˆhashå€¼</li>
<li>6.<code>hmac</code>ï¼š (æ•°æ®+å¯†é’¥)çš„æ–¹å¼ç”Ÿæˆæ‘˜è¦hashå€¼</li>
<li>7.<code>itertools</code>:æ“ä½œè¿­ä»£å¯¹è±¡çš„åº“</li>
<li>8.<code>contextlib</code>:ä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œæä¾›ä¸€äº›æ–‡ä»¶èµ„æºé‡Šæ”¾çš„ä¾¿æ·æ“ä½œ</li>
<li>9.<code>urllib</code>:æ“ä½œURLçš„åº“ï¼Œhttpè¯·æ±‚ä¹‹ç±»çš„</li>
<li>10.<code>xml</code>:xmlæ“ä½œ
<ul>
<li>DOMï¼šæ•´ä¸ªXMLä¸€æ¬¡æ€§è¯»å…¥</li>
<li>SAXï¼šè¾¹è¯»è¾¹è§£æ</li>
</ul>
</li>
<li>11.<code>HTMLParser</code>ï¼šè§£æHtmlï¼Œè§£æhtmlä¸­æ–‡æœ¬ã€å›¾åƒç­‰</li>
</ul>
<h3 id="2-17-di-san-fang-mo-kuai">2.17 ç¬¬ä¸‰æ–¹æ¨¡å—<a class="zola-anchor" href="#2-17-di-san-fang-mo-kuai" aria-label="Anchor link for: 2-17-di-san-fang-mo-kuai">ğŸ”—</a></h3>
<ul>
<li>1.å›¾åƒå¤„ç†ï¼šåˆ‡ç‰‡ã€æ—‹è½¬ã€æ»¤é•œã€æ¨¡ç³Šã€è°ƒè‰²æ¿ç­‰
<ul>
<li><code>PIL</code>(python image library):ä»…æ”¯æŒpython2.7</li>
<li><code>Pillow</code>:æ”¯æŒpython3.xï¼Œ+æ–°ç‰¹æ€§</li>
<li><code>pip install pillow</code> å®‰è£…</li>
</ul>
</li>
<li>2.<code>requests</code> ç½‘ç»œè®¿é—®åº“</li>
<li>3.<code>chardet</code> ç¼–ç æ£€æµ‹åº“</li>
<li>4.<code>psutil</code>(process system utilies) è·å–ç³»ç»Ÿä¿¡æ¯å·¥å…·åº“</li>
<li>5.<code>virtualenv</code> å»ºç«‹éš”ç¦»çš„è¿è¡Œç¯å¢ƒ
<ul>
<li>æ¯ä¸ªåº”ç”¨ä½¿ç”¨ä¸åŒpythonç‰ˆæœ¬è¿è¡Œç¯å¢ƒå¤„ç†</li>
</ul>
</li>
<li>6.å›¾å½¢ç•Œé¢åº“
<ul>
<li><code>tkinter</code>ï¼špythonå†…ç½®çš„GUIç¼–ç¨‹åº“</li>
<li><code>tk</code>ã€<code>wxWidgets</code>ã€<code>Qt</code>ã€<code>GTK</code>ï¼šç¬¬ä¸‰æ–¹GUIåº“</li>
<li>æµ·é¾Ÿç»˜å›¾åº“(Turtle Graphics):pythonå†…ç½®,é€šè¿‡æŒ‡æŒ¥ä¸€åªå°æµ·é¾Ÿåœ¨å±å¹•ä¸Šç»˜å›¾
<ul>
<li>èµ·æº LOGOè¯­è¨€ï¼šä¸“é—¨ç»™å„¿ç«¥å­¦ä¹ ç¼–ç¨‹çš„è¯­è¨€ï¼Œç‰¹è‰²æ˜¯é€šè¿‡ä¸€åªå°æµ·é¾Ÿç»˜å›¾ã€‚</li>
<li><code>import turtle import *</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="2-18-wang-luo-bian-cheng">2.18 ç½‘ç»œç¼–ç¨‹<a class="zola-anchor" href="#2-18-wang-luo-bian-cheng" aria-label="Anchor link for: 2-18-wang-luo-bian-cheng">ğŸ”—</a></h3>
<ul>
<li>TCP/UDPç¼–ç¨‹</li>
<li><code>import socket</code> å¼•å…¥socketåº“</li>
</ul>
<h3 id="2-19-dian-zi-you-jian">2.19 ç”µå­é‚®ä»¶<a class="zola-anchor" href="#2-19-dian-zi-you-jian" aria-label="Anchor link for: 2-19-dian-zi-you-jian">ğŸ”—</a></h3>
<ul>
<li>SMTP å‘é€é‚®ä»¶åè®®(å†…ç½®æ¨¡å—)
<ul>
<li><code>import smtplib</code>ï¼šå‘é€é‚®ä»¶æ¨¡å—</li>
<li><code>import email</code>:æ„é€ é‚®ä»¶æ¨¡å—</li>
</ul>
</li>
<li>POP3 æ”¶å–é‚®ä»¶åè®®(å†…ç½®æ¨¡å—)(POPåè®®ï¼Œæœ€æ–°ç‰ˆæœ¬å·3)
<ul>
<li>1.<code>import poplib</code>ï¼šæ”¶é‚®ä»¶æ¨¡å—</li>
<li>2.<code>import email</code>:è§£æåŸå§‹æ–‡æœ¬ï¼Œæ„æˆé‚®ä»¶å¯¹è±¡</li>
</ul>
</li>
</ul>
<h3 id="2-20-shu-ju-ku">2.20 æ•°æ®åº“<a class="zola-anchor" href="#2-20-shu-ju-ku" aria-label="Anchor link for: 2-20-shu-ju-ku">ğŸ”—</a></h3>
<p>(pythonä¸­,DB-APIé€šç”¨,æ•°æ®åº“æ“ä½œæ¥å£ç±»ä¼¼)</p>
<ul>
<li>SQLite(å†…ç½®æ¨¡å—)
<ul>
<li><code>import sqlite3</code></li>
</ul>
</li>
<li>MySQL
<ul>
<li>1.å®‰è£…MySQL
<ul>
<li>windowsä¸‹ï¼Œå®‰è£…é€‰æ‹©utf-8</li>
<li>linux,mac osä¸‹ï¼Œéœ€è¦ç¼–è¾‘é…ç½®æ–‡ä»¶ä¿®æ”¹ç¼–ç ï¼Œæ”¹ä¸ºutf-8ã€‚
<ul>
<li><code>é…ç½®æ–‡ä»¶é»˜è®¤å­˜æ”¾åœ¨/etc/my.cnfæˆ–è€…/etc/mysql/my.cnf</code></li>
</ul>
</li>
<li>PS:MySQLç‰ˆæœ¬&gt;=5.5.3ï¼Œç¼–ç å¯è®¾ç½®ä¸ºutf-8mb4(å’Œutf-8å…¼å®¹)ï¼Œ
è¿˜å¯æ”¯æŒUnicodeæœ€æ–°æ ‡å‡†ï¼Œå¯æ˜¾ç¤ºemojiå­—ç¬¦</li>
</ul>
</li>
<li>2.å®‰è£…MySQLé©±åŠ¨
<code>pip install mysql-connector-python --allow-external mysql-connector-python</code>
æˆ–<code>pip install mysql-connector</code></li>
</ul>
</li>
<li><code>sqlalchemy</code>:ç¬¬ä¸‰æ–¹ORM(å¯¹è±¡å…³ç³»æ˜ å°„)æ¡†æ¶
<ul>
<li><code>pip install sqlalchemy</code></li>
</ul>
</li>
</ul>
<h3 id="2-21-webkai-fa">2.21 Webå¼€å‘<a class="zola-anchor" href="#2-21-webkai-fa" aria-label="Anchor link for: 2-21-webkai-fa">ğŸ”—</a></h3>
<ul>
<li>
<p>JSPï¼šhtml+javaçš„è„šæ­¥ä»£ç å½¢å¼</p>
</li>
<li>
<p>HTML</p>
<ul>
<li>HTML ç½‘é¡µ</li>
<li>CSS(Cascading Style Sheets)å±‚çº§æ ·å¼è¡¨</li>
<li>JS æ‰§è¡Œè„šæœ¬</li>
</ul>
</li>
<li>
<p>Webåº”ç”¨æµç¨‹</p>
<ul>
<li>1.æµè§ˆå™¨å‘é€httpè¯·æ±‚ã€‚</li>
<li>2.æœåŠ¡ç«¯æ¥æ”¶è¯·æ±‚ï¼Œç”Ÿæˆhtmlæ–‡æ¡£ã€‚</li>
<li>3.æœåŠ¡ç«¯æŠŠhtmlæ–‡æ¡£ï¼Œä½œä¸ºBodyå‘é€ç»™æµè§ˆå™¨ã€‚</li>
<li>4.æµè§ˆå™¨å“åº”ï¼Œå–å‡ºBodyä¸­çš„htmlæ–‡æ¡£å¹¶æ˜¾ç¤ºã€‚</li>
<li>ç°å­˜HttpæœåŠ¡å™¨ï¼ˆApacheã€Nginxã€Lighttpdç­‰ï¼‰ï¼šç”¨äºæ¥æ”¶ç”¨æˆ·è¯·æ±‚ï¼Œä»æ–‡ä»¶è¯»å–htmlï¼Œå“åº”è¿”å›ã€‚</li>
<li>Pythonç”¨äºåŠ¨æ€ç”Ÿæˆhtmlæ–‡æ¡£</li>
</ul>
</li>
<li>
<p>WSGIæ¥å£(Web Server GateWay Interface)</p>
<ul>
<li><code>import wsgiref</code> å†…ç½®çš„WSGIæœåŠ¡å™¨</li>
<li>ctrl + cç»ˆæ­¢æœåŠ¡å™¨</li>
</ul>
<pre><code>#Webåº”ç”¨ç¨‹åºWSGIå¤„ç†å‡½æ•°
#åŒ…å«2ä¸ªå‚æ•°:environåŒ…å«httpè¯·æ±‚ä¿¡æ¯çš„dictå¯¹è±¡ï¼Œstart_responseå‘é€HTTPå“åº”çš„å‡½æ•°
#start_responseå‡½æ•°åŒ…å«2ä¸ªå‚æ•°ï¼š
#1.å“åº”ç ï¼Œ2.ä¸€ç»„listè¡¨ç¤ºçš„Http Headerï¼Œä½¿ç”¨strè¡¨ç¤ºçš„tupleç±»å‹
#hello.py
from wsgiref.simple_server import make_server
def application(environ,start_response):
	start_response(&#x27;200 OK&#x27;,[(&#x27;Content-Type&#x27;,&#x27;text&#x2F;html&#x27;)]) #å“åº”Header
	return [b&#x27;&lt;html&gt;&lt;body&gt;hello world&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;&#x27;] #å“åº”Body
httpd = make_server(&#x27;&#x27;,8000,application) #1.ipåœ°å€ï¼Œ2.ç«¯å£ï¼Œ3.å¤„ç†å‡½æ•°
httpd.server_forever()#ç›‘å¬è¯·æ±‚
</code></pre>
</li>
<li>
<p>WSGI ç¬¬ä¸‰æ–¹æ¡†æ¶</p>
<ul>
<li>Flask</li>
</ul>
<pre><code>pip install flask #å®‰è£…flask
#flaské»˜è®¤åœ¨5000ç«¯å£ä¸Š
from flask import Flask
from flask import request
app = Flask(__name__)
@app.route(&#x27;&#x2F;&#x27;,methods=[&#x27;GET&#x27;]) 
def index():
	return &#x27;&lt;h&gt;hello world&lt;&#x2F;h&gt;&#x27;

@app.route(&#x27;&#x2F;login&#x27;,methods=[&#x27;GET&#x27;]) #&#x2F;loginé€‰é¡¹æ¡†
def login():
	return &#x27;&#x27;&#x27;&lt;form action=&quot;&#x2F;login&quot; method=&quot;post&quot;&gt;
			&lt;p&gt;&lt;input name=&quot;username&quot;&gt;&lt;&#x2F;p&gt;
			&lt;p&gt;&lt;input name=&quot;password&quot;&gt;&lt;&#x2F;p&gt;
			&lt;p&gt;&lt;button type=&quot;submit&quot;&gt;Sign In&lt;&#x2F;button&gt;&lt;&#x2F;p&gt;
			&lt;&#x2F;form&gt;&#x27;&#x27;&#x27;
#flaské€šè¿‡request.form[&#x27;name&#x27;]æ¥è·å–è¡¨å•çš„å†…å®¹
@app.route(&#x27;&#x2F;login&#x27;,methods=[&#x27;POST&#x27;])#&#x2F;loginè¾“å…¥è¿›è¡Œpostè¯·æ±‚
def loginP():
	if request.form[&#x27;username&#x27;]==&#x27;admin&#x27; and request.form[&#x27;password&#x27;]==&#x27;123456&#x27;:
		return &#x27;&lt;h&gt;hello admin&lt;&#x2F;h&gt;&#x27;
	return &#x27;&lt;h&gt;login error!&lt;&#x2F;h&gt;&#x27;
if(__name__==&#x27;__main__&#x27;):
	app.run()
</code></pre>
<ul>
<li>Django:å…¨èƒ½å‹Webæ¡†æ¶</li>
<li>web.py:å°å·§çš„Webæ¡†æ¶</li>
<li>Bottle:å’ŒFlaskç±»ä¼¼çš„Webæ¡†æ¶</li>
<li>Tornado:Facebookå¼€æºå¼‚æ­¥Webæ¡†æ¶</li>
</ul>
</li>
<li>
<p>htmlæ¨¡æ¿ï¼šåˆ†ç¦»htmlå’Œä¸šåŠ¡é€»è¾‘ MVCæ¨¡å¼</p>
<ul>
<li>æ¨¡æ¿ï¼šç‹¬ç«‹htmlæ–‡ä»¶ï¼Œå†…éƒ¨ä¼ å…¥æ•°æ®å˜é‡çš„æ ¼å¼</li>
<li>flask
<ul>
<li>jinja2ï¼šé»˜è®¤æ”¯æŒæ¨¡æ¿</li>
</ul>
<pre><code>`pip install jinja2`
	- `{{name}}`ï¼šhtmlä¸­è¡¨ç¤ºå˜é‡name
	- `{%...%}`ï¼šhtmlä¸­`...`è¡¨ç¤ºæŒ‡ä»¤å†™çš„åœ°æ–¹
</code></pre>
<pre><code>#æ¨¡æ¿htmlå­˜æ”¾åœ¨ç›®å½•templates,templateså’Œ.pyè¿è¡Œæ–‡ä»¶åŒçº§ç›®å½•ä¸‹
#render_template() æ˜¾ç¤ºæ¨¡æ¿
#index.html
&lt;html&gt;
&lt;body&gt;
&lt;h&gt;hello world&lt;&#x2F;h&gt;
&lt;&#x2F;body&gt;
&lt;&#x2F;html&gt;
#login.html
&lt;html&gt;
&lt;body&gt;
{% if message %}		
&lt;p&gt;{{message}}&lt;&#x2F;p&gt;
{% endif %}
&lt;form action=&quot;&#x2F;login&quot; method=&quot;post&quot;&gt;
	&lt;p&gt;&lt;input name=&quot;username&quot; value=&quot;{{username}}&quot;&gt;&lt;&#x2F;p&gt;
	&lt;p&gt;&lt;input name=&quot;password&quot;&gt;&lt;&#x2F;p&gt;
	&lt;p&gt;&lt;button type=&quot;submit&quot;&gt;Sign In&lt;&#x2F;button&gt;&lt;&#x2F;p&gt;
	&lt;&#x2F;form&gt;
&lt;&#x2F;body&gt;
&lt;&#x2F;html&gt;
#login_ok.html
&lt;html&gt;
&lt;body&gt;
&lt;h&gt;hello {{name}}&lt;&#x2F;h&gt;
&lt;&#x2F;body&gt;
&lt;&#x2F;html&gt;
#index.py
from flask import Flask
from flask import request
from flask import render_template
app = Flask(__name__)
@app.route(&#x27;&#x2F;&#x27;,methods=[&#x27;GET&#x27;])
def index():
	return render_template(&#x27;index.html&#x27;)

@app.route(&#x27;&#x2F;login&#x27;,methods=[&#x27;GET&#x27;])
def login():
	return render_template(&#x27;login.html&#x27;)
@app.route(&#x27;&#x2F;login&#x27;,methods=[&#x27;POST&#x27;])
def loginP():
	if request.form[&#x27;username&#x27;]==&#x27;admin&#x27; and request.form[&#x27;password&#x27;]==&#x27;123456&#x27;:
		return render_template(&#x27;login_ok.html&#x27;,username=&#x27;admin&#x27;)
	else:
		return render_template(&#x27;login.html&#x27;,message=&#x27;Error username or password!&#x27;,username=request.form[&#x27;username&#x27;])
if(__name__==&#x27;__main__&#x27;):
	app.run()
</code></pre>
<ul>
<li>Makoæ¨¡æ¿
<ul>
<li>${name} å˜é‡</li>
<li>&lt;%...%&gt; æŒ‡ä»¤</li>
</ul>
</li>
<li>Cheetahæ¨¡æ¿
<ul>
<li>${name} å˜é‡</li>
<li>&lt;%...%&gt; æŒ‡ä»¤</li>
</ul>
</li>
<li>Django</li>
</ul>
<pre><code>- {{name}} å˜é‡
- {%...%} æŒ‡ä»¤
</code></pre>
</li>
</ul>
</li>
</ul>
<h3 id="2-22-yi-bu-io">2.22 å¼‚æ­¥IO<a class="zola-anchor" href="#2-22-yi-bu-io" aria-label="Anchor link for: 2-22-yi-bu-io">ğŸ”—</a></h3>
<ul>
<li>
<p>å¼‚æ­¥IOæ¨¡å‹ï¼šåˆ©ç”¨ä¸»çº¿ç¨‹æ¶ˆæ¯å¾ªç¯ã€‚æ‰§è¡ŒIOæ“ä½œæ—¶ï¼Œåªæ˜¯å‘å‡ºIOæŒ‡ä»¤ä¸ç­‰å¾…ç»“æœï¼Œç»§ç»­æ‰§è¡Œå…¶ä»–ä»£ç ï¼Œç­‰å¾…
IOé€šçŸ¥åå†æ¥å¤„ç†ã€‚</p>
</li>
<li>
<p>åç¨‹ï¼šä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œå¤šä¸ªå‡½æ•°ä¹‹é—´ä¸æŒ‰é¡ºåºè°ƒç”¨ï¼Œåˆ‡æ¢è°ƒç”¨(å‡½æ•°è°ƒç”¨ä¸€åŠåˆ‡æ¢åˆ°å¦ä¸€ä¸ªå‡½æ•°æ‰§è¡Œ)</p>
<ul>
<li>pythonä¸­é€šè¿‡generatorå®ç°äº†åç¨‹ã€‚å½“next(generator),
å¯¹ç”Ÿæˆgeneratorå‡½æ•°è¿›è¡Œä¸­æ–­å¤„ç†ï¼Œç„¶åæ‰§è¡Œå…¶ä»–å‡½æ•°</li>
</ul>
<pre><code>#åŒä¸€ä¸ªçº¿ç¨‹å†…ï¼Œè¾¹å†™è¾¹è¯»
def read():
	r = &#x27;&#x27;
	while True:
		read = yield r
		if read:
			print(&#x27;read =&#x27;,read)

def write(r):
	r.send(None)
	i=1
	while i&lt;10:
		print(&#x27;write =&#x27;,i)
		r.send(i)
		i=i+1

r = read()
write(r)
</code></pre>
</li>
<li>
<p>asyncio:å†…ç½®å¼‚æ­¥IOæ”¯æŒ</p>
<ul>
<li><code>@asyncio.coroutine</code> generatoræ ‡è®°ä¸ºcoroutine</li>
<li><code>yield from &lt;coroutine&gt;</code>åˆ‡æ¢åç¨‹</li>
<li><code>asyncio.get_event_loop()</code>æ¶ˆæ¯å¾ªç¯</li>
<li><code>loop.run_until_complete(&lt;task()&gt;æˆ–asyncio.wait(&lt;tasks&gt;))</code> tasks=(task(),task())</li>
</ul>
</li>
</ul>
<pre><code>import threading
import asyncio

@asyncio.coroutine
def hello():
	print(&#x27;Hello world %s!&#x27;%threading.currentThread())
	yield from asyncio.sleep(1) #åˆ‡æ¢åˆ°å…¶ä»–åç¨‹å»¶æ—¶1ç§’
	print(&#x27;Hello again %s!&#x27;%threading.currentThread())

loop = asyncio.get_event_loop() #æ¶ˆæ¯å¾ªç¯
tasks=[hello(),hello()]
loop.run_until_complete(asyncio.wait(tasks)) #æˆ–è€…loop.run_until_complete(hello())è¿è¡Œä¸€ä¸ª
loop.close()

è¾“å‡ºï¼š
Hello world &lt;_MainThread(MainThread, started 680)&gt;!
Hello world &lt;_MainThread(MainThread, started 680)&gt;!
#æš‚åœ1ç§’åæ˜¾ç¤ºä¸‹é¢
Hello again &lt;_MainThread(MainThread, started 680)&gt;!
Hello again &lt;_MainThread(MainThread, started 680)&gt;!
</code></pre>
<ul>
<li><code>async/await</code> Python3.5ä»¥åæ–°çš„è¯­æ³•
<ul>
<li><code>@asyncio.coroutine</code>æ›¿æ¢ä¸º<code>async</code></li>
<li><code>yield from</code> æ›¿æ¢ä¸º<code>await</code></li>
</ul>
<pre><code>import threading
import asyncio

async def hello():
	print(&#x27;Hello world %s!&#x27;%threading.currentThread())
	await asyncio.sleep(1) #åˆ‡æ¢åˆ°å…¶ä»–åç¨‹å»¶æ—¶1ç§’
	print(&#x27;Hello again %s!&#x27;%threading.currentThread())

loop = asyncio.get_event_loop() #æ¶ˆæ¯å¾ªç¯
tasks=[hello(),hello()]
loop.run_until_complete(asyncio.wait(tasks))
loop.close()
</code></pre>
</li>
<li><code>aiohttp</code>:åŸºäºasyncioå®ç°çš„HTTPæ¡†æ¶
<ul>
<li><code>pip install aiohttp</code></li>
</ul>
<pre><code>import asyncio
from aiohttp import web #pip install aiohttp

async def index(request):
	await asyncio.sleep(0.5)
	return web.Response(body= (&#x27;hello, %s!&#x27; % request.match_info[&#x27;name&#x27;]))

async def init(loop):
	app = web.Application(loop=loop)
	app.router.add_route(&#x27;GET&#x27;,&#x27;&#x2F;{name}&#x27;,index)
	ser =await loop.create_server(app.make_handler(),&#x27;localhost&#x27;,8000)
	print(&#x27;Server started at http:&#x2F;&#x2F;localhost:8000 ...&#x27;)
	return ser
loop = asyncio.get_event_loop()
loop.run_until_complete(init(loop))
loop.run_forever()
</code></pre>
</li>
</ul>

    <div class="muted text-sm">
      <a title="2021-10-10" class="no-underline u-url p-name entry-title" rel="bookmark" href="https://obelieve.github.io/blog/pythonyu-fa/">
        <time class="dt-published published" datetime="2021-10-10">2021.10.10</time>
      </a>
      
      <span>&nbsp;on</span>
      <a title="Notes" class="no-underline p-category" rel="category tag" href="https://obelieve.github.io/categories/notes/">
          Notes
        </a>
      

    </div>
  </article>
  
          
          
    <div class="pagination py">
      <ul class="list-none flex justify-between">
        
          <li class="disabled">
            <a title="First" class="no-underline" href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;tags&#x2F;python&#x2F;">&larrb;</a>
          </li>
        
        
          <li class="disabled">
            <a title="Previous"  class="no-underline" href="#">&larr;</a>
          </li>
        
        <li>
          <a title="All Posts" class="no-underline" href="https://obelieve.github.io/archive/">1/1</a>
        </li>
        
          <li class="disabled">
            <a title="Next" class="no-underline" href="#">&rarr;</a>
          </li>
        
        
          <li class="disabled">
            <a title="Last" class="no-underline" href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;tags&#x2F;python&#x2F;">&rarrb;</a>
          </li>
        
      </ul>
    </div>
  
        
      </div>
    </div>
  
          </div>
        </div>
        
        <aside class="sidebar px">
          

          
          <h2 id="zhong-yao-lian-jie">é‡è¦é“¾æ¥</h2>
<ul>
<li><a href="https://github.com/obelieve">Github ä¸»é¡µ</a></li>
</ul>
<h2 id="guan-yu">å…³äº</h2>
<ul>
<li><a href="/about/">å…³äºæˆ‘</a></li>
</ul>
<h2 id="dao-hang">å¯¼èˆª</h2>
<ul>
<li><a href="https://obelieve.github.io/blog/quotes/">é˜…è¯»æ‘˜è¦</a></li>
<li><a href="https://obelieve.github.io/blog/askill/">æ”¶é›†å°æŠ€å·§</a></li>
</ul>

          <div class="taxonomy-list-page pt">
            <div class="main-box-block">
              <div class="by">æŒ‰ <a href="/categories/">åˆ†ç±»</a> æŸ¥çœ‹ï¼š</div>
              
              <details class="pb-sm">
                <summary class="text-bigger">Notes&nbsp;(<a href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;categories&#x2F;notes&#x2F;">11</a>)</summary>
                <ul>
                  
                  <li>
    <a href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;blog&#x2F;android-zi-yuan-xian-ding-fu&#x2F;">Android èµ„æºé™å®šç¬¦</a>
    <span class="muted text-sm">2025-12-21</span>
  </li>
                  
                  <li>
    <a href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;blog&#x2F;kotlin-re-liu-he-leng-liu&#x2F;">Kotlin çƒ­æµå’Œå†·æµ</a>
    <span class="muted text-sm">2025-12-04</span>
  </li>
                  
                  <li>
    <a href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;blog&#x2F;bian-cheng-yu-yan-chang-yong-de-shu-ju-jie-gou-api&#x2F;">ç¼–ç¨‹è¯­è¨€å¸¸ç”¨çš„æ•°æ®ç»“æ„api</a>
    <span class="muted text-sm">2025-11-25</span>
  </li>
                  
                  <li>
    <a href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;blog&#x2F;celeryku&#x2F;">Celery åˆ†å¸ƒå¼ä»»åŠ¡é˜Ÿåˆ—</a>
    <span class="muted text-sm">2025-09-04</span>
  </li>
                  
                  <li>
    <a href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;blog&#x2F;askill&#x2F;">æ”¶é›†å°æŠ€å·§</a>
    <span class="muted text-sm">2025-09-03</span>
  </li>
                  
                  <li>
    <a href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;blog&#x2F;quotes&#x2F;">é˜…è¯»æ‘˜è¦</a>
    <span class="muted text-sm">2025-09-18</span>
  </li>
                  
                  <li>
    <a href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;blog&#x2F;android-mo-ni-qi-chuang-jian-xi-tong-ying-yong&#x2F;">Android æ¨¡æ‹Ÿå™¨åˆ›å»ºç³»ç»Ÿåº”ç”¨</a>
    <span class="muted text-sm">2025-02-07</span>
  </li>
                  
                  <li>
    <a href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;blog&#x2F;guan-yu-http&#x2F;">å…³äºHTTP</a>
    <span class="muted text-sm">2025-09-16</span>
  </li>
                  
                  <li>
    <a href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;blog&#x2F;uijiao-hu-she-ji-yuan-ze&#x2F;">UIäº¤äº’è®¾è®¡åŸåˆ™</a>
    <span class="muted text-sm">2025-09-07</span>
  </li>
                  
                  <li>
    <a href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;blog&#x2F;retrofityuan-ma-fen-xi-2-10-0-snapshot&#x2F;">Retrofitæºç åˆ†æ 2.10.0-SNAPSHOT</a>
    <span class="muted text-sm">2025-09-03</span>
  </li>
                  
                  <li>
    <a href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;blog&#x2F;pythonyu-fa&#x2F;">Pythonè¯­æ³•</a>
    <span class="muted text-sm">2025-09-03</span>
  </li>
                  
                </ul>
              </details>
              
            </div>
          </div>

          <div class="taxonomy-list-page pt">
            <div class="main-box-block">
              <div class="main-box-block">
                <div class="by">æŒ‰ <a href="/archive/">å½’æ¡£</a> æŸ¥çœ‹ï¼š</div>
                
                <details class="pb-sm">
                  <summary class="text-bigger">2025</summary>
                  <ul>
                    
                    <li>
    <a href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;blog&#x2F;android-zi-yuan-xian-ding-fu&#x2F;">Android èµ„æºé™å®šç¬¦</a>
    <span class="muted text-sm">2025-12-21</span>
  </li>
                    
                    <li>
    <a href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;blog&#x2F;kotlin-re-liu-he-leng-liu&#x2F;">Kotlin çƒ­æµå’Œå†·æµ</a>
    <span class="muted text-sm">2025-12-04</span>
  </li>
                    
                    <li>
    <a href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;blog&#x2F;bian-cheng-yu-yan-chang-yong-de-shu-ju-jie-gou-api&#x2F;">ç¼–ç¨‹è¯­è¨€å¸¸ç”¨çš„æ•°æ®ç»“æ„api</a>
    <span class="muted text-sm">2025-11-25</span>
  </li>
                    
                    <li>
    <a href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;blog&#x2F;celeryku&#x2F;">Celery åˆ†å¸ƒå¼ä»»åŠ¡é˜Ÿåˆ—</a>
    <span class="muted text-sm">2025-09-04</span>
  </li>
                    
                    <li>
    <a href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;blog&#x2F;askill&#x2F;">æ”¶é›†å°æŠ€å·§</a>
    <span class="muted text-sm">2025-09-03</span>
  </li>
                    
                    <li>
    <a href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;blog&#x2F;quotes&#x2F;">é˜…è¯»æ‘˜è¦</a>
    <span class="muted text-sm">2025-09-18</span>
  </li>
                    
                    <li>
    <a href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;blog&#x2F;android-mo-ni-qi-chuang-jian-xi-tong-ying-yong&#x2F;">Android æ¨¡æ‹Ÿå™¨åˆ›å»ºç³»ç»Ÿåº”ç”¨</a>
    <span class="muted text-sm">2025-02-07</span>
  </li>
                    
                    <li>
    <a href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;blog&#x2F;guan-yu-http&#x2F;">å…³äºHTTP</a>
    <span class="muted text-sm">2025-09-16</span>
  </li>
                    
                  </ul>
                </details>
                
                <details class="pb-sm">
                  <summary class="text-bigger">2024</summary>
                  <ul>
                    
                    <li>
    <a href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;blog&#x2F;uijiao-hu-she-ji-yuan-ze&#x2F;">UIäº¤äº’è®¾è®¡åŸåˆ™</a>
    <span class="muted text-sm">2025-09-07</span>
  </li>
                    
                  </ul>
                </details>
                
                <details class="pb-sm">
                  <summary class="text-bigger">2022</summary>
                  <ul>
                    
                    <li>
    <a href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;blog&#x2F;retrofityuan-ma-fen-xi-2-10-0-snapshot&#x2F;">Retrofitæºç åˆ†æ 2.10.0-SNAPSHOT</a>
    <span class="muted text-sm">2025-09-03</span>
  </li>
                    
                  </ul>
                </details>
                
                <details class="pb-sm">
                  <summary class="text-bigger">2021</summary>
                  <ul>
                    
                    <li>
    <a href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;blog&#x2F;pythonyu-fa&#x2F;">Pythonè¯­æ³•</a>
    <span class="muted text-sm">2025-09-03</span>
  </li>
                    
                  </ul>
                </details>
                
              </div>
            </div>
          </div>


          <h2>
            <a class="no-underline" title="æ ‡ç­¾"
              href="&#x2F;tags/">æ ‡ç­¾</a>
          </h2>
          <ul class="list-none text-sm">
            
            <li class="inline">
              <a class="no-underline" title="About" href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;tags&#x2F;about&#x2F;">About(1)</a>
            </li>
            <li class="inline">
              <a class="no-underline" title="Android" href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;tags&#x2F;android&#x2F;">Android(3)</a>
            </li>
            <li class="inline">
              <a class="no-underline" title="api" href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;tags&#x2F;api&#x2F;">api(1)</a>
            </li>
            <li class="inline">
              <a class="no-underline" title="Book" href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;tags&#x2F;book&#x2F;">Book(1)</a>
            </li>
            <li class="inline">
              <a class="no-underline" title="http" href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;tags&#x2F;http&#x2F;">http(1)</a>
            </li>
            <li class="inline">
              <a class="no-underline" title="Kotlin" href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;tags&#x2F;kotlin&#x2F;">Kotlin(1)</a>
            </li>
            <li class="inline">
              <a class="no-underline" title="Okhttp" href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;tags&#x2F;okhttp&#x2F;">Okhttp(1)</a>
            </li>
            <li class="inline">
              <a class="no-underline" title="Python" href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;tags&#x2F;python&#x2F;">Python(2)</a>
            </li>
            <li class="inline">
              <a class="no-underline" title="Retrofit" href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;tags&#x2F;retrofit&#x2F;">Retrofit(1)</a>
            </li>
            <li class="inline">
              <a class="no-underline" title="Shell" href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;tags&#x2F;shell&#x2F;">Shell(1)</a>
            </li>
            <li class="inline">
              <a class="no-underline" title="UI" href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;tags&#x2F;ui&#x2F;">UI(1)</a>
            </li>
            <li class="inline">
              <a class="no-underline" title="èµ„æºé™å®šç¬¦" href="https:&#x2F;&#x2F;obelieve.github.io&#x2F;tags&#x2F;zi-yuan-xian-ding-fu&#x2F;">èµ„æºé™å®šç¬¦(1)</a>
            </li>
            
          </ul>
        </aside>
        
      </div>
    </div>
    </div>
  <div id="bottom"></div>
  </body>

</html>